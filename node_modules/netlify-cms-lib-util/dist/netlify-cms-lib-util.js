!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("immutable"),require("lodash/zipObject"),require("lodash/curry"),require("lodash/flow"),require("lodash/isString"),require("lodash/get")):"function"==typeof define&&define.amd?define("netlify-cms-lib-util",["immutable","lodash/zipObject","lodash/curry","lodash/flow","lodash/isString","lodash/get"],e):"object"==typeof exports?exports["netlify-cms-lib-util"]=e(require("immutable"),require("lodash/zipObject"),require("lodash/curry"),require("lodash/flow"),require("lodash/isString"),require("lodash/get")):t["netlify-cms-lib-util"]=e(t.immutable,t["lodash/zipObject"],t["lodash/curry"],t["lodash/flow"],t["lodash/isString"],t["lodash/get"])}(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__4__,__WEBPACK_EXTERNAL_MODULE__5__,__WEBPACK_EXTERNAL_MODULE__6__,__WEBPACK_EXTERNAL_MODULE__7__){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=11)}([function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(t,e,r){(function(e){var r;t.exports=function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,r,n){(function(t){"use strict";var e,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(f),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),e=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var u=new t.MessageChannel;u.port1.onmessage=f,e=function(){u.port2.postMessage(0)}}var c=[];function f(){var t,e;n=!0;for(var r=c.length;r;){for(e=c,c=[],t=-1;++t<r;)e[t]();r=c.length}n=!1}r.exports=function(t){1!==c.push(t)||n||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==o&&d(this,t)}function f(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(t,e,r){n(function(){var n;try{n=e(r)}catch(e){return i.reject(t,e)}n===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,n)})}function l(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,i.reject(t,e))}function o(e){r||(r=!0,i.resolve(t,e))}var a=p(function(){e(o,n)});"error"===a.status&&n(a.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(o);if(this.state!==u){var n=this.state===s?t:e;h(r,n,this.outcome)}else this.queue.push(new f(r,t,e));return r},f.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){i.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},i.resolve=function(t,e){var r=p(l,e);if("error"===r.status)return i.reject(t,r.value);var n=r.value;if(n)d(t,n);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},c.reject=function(t){var e=new this(o);return i.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,u=-1,c=new this(o);++u<r;)f(t[u],u);return c;function f(t,o){e.resolve(t).then(function(t){a[o]=t,++s!==r||n||(n=!0,i.resolve(c,a))},function(t){n||(n=!0,i.reject(c,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(o);++a<r;)u(t[a]);return s;function u(t){e.resolve(t).then(function(t){n||(n=!0,i.resolve(s,t))},function(t){n||(n=!0,i.reject(s,t))})}}},{1:1}],3:[function(t,r,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function f(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",l=void 0,d={},p=Object.prototype.toString,v="readonly",_="readwrite";function y(t){return"boolean"==typeof l?a.resolve(l):function(t){return new a(function(e){var r=t.transaction(h,_),n=i([""]);r.objectStore(h).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return l=t})}function b(t){var e=d[t.name],r={};r.promise=new a(function(t,e){r.resolve=t,r.reject=e}),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then(function(){return r.promise}):e.dbReady=r.promise}function m(t){var e=d[t.name],r=e.deferredOperations.pop();if(r)return r.resolve(),r.promise}function g(t,e){var r=d[t.name],n=r.deferredOperations.pop();if(n)return n.reject(e),n.promise}function E(t,e){return new a(function(r,n){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);b(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var a=o.open.apply(o,i);e&&(a.onupgradeneeded=function(e){var r=a.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),n(a.error)},a.onsuccess=function(){r(a.result),m(t)}})}function S(t){return E(t,!1)}function w(t){return E(t,!0)}function A(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function R(t){var e=function(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}(atob(t.data));return i([e],{type:t.type})}function O(t){return t&&t.__local_forage_encoded_blob}function H(t){var e=this,r=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(r,t,t),r}function I(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(o){if(n>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)}).then(function(){return function(t){b(t);for(var e=d[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,S(t).then(function(e){return t.db=e,A(t)?w(t):e}).then(function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n}).catch(function(e){throw g(t,e),e})}(t).then(function(){I(t,e,r,n-1)})}).catch(r);r(o)}}var C={_driver:"asyncStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=d[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=H);var i=[];function s(){return a.resolve()}for(var u=0;u<o.forages.length;u++){var c=o.forages[u];c!==e&&i.push(c._initReady().catch(s))}var f=o.forages.slice(0);return a.all(i).then(function(){return r.db=o.db,S(r)}).then(function(t){return r.db=t,A(r,e._defaultConfig.version)?w(r):t}).then(function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<f.length;n++){var i=f[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=new a(function(e,n){r.ready().then(function(){I(r._dbInfo,v,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=a.openCursor(),u=1;s.onsuccess=function(){var r=s.result;if(r){var n=r.value;O(n)&&(n=R(n));var o=t(n,r.key,u++);void 0!==o?e(o):r.continue()}else e()},s.onerror=function(){n(s.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=new a(function(e,n){r.ready().then(function(){I(r._dbInfo,v,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=a.get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),O(t)&&(t=R(t)),e(t)},s.onerror=function(){n(s.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},setItem:function(t,e,r){var n=this;t=c(t);var o=new a(function(r,o){var i;n.ready().then(function(){return i=n._dbInfo,"[object Blob]"===p.call(e)?y(i.db).then(function(t){return t?e:function(t){return new a(function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)})}(e)}):e}).then(function(e){I(n._dbInfo,_,function(i,a){if(i)return o(i);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return s(o,r),o},removeItem:function(t,e){var r=this;t=c(t);var n=new a(function(e,n){r.ready().then(function(){I(r._dbInfo,_,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=a.delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(s.error)},i.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},clear:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){I(e._dbInfo,_,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),a=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return s(r,t),r},length:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){I(e._dbInfo,v,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),a=i.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){r(a.error)}}catch(t){r(t)}})}).catch(r)});return s(r,t),r},key:function(t,e){var r=this,n=new a(function(e,n){t<0?e(null):r.ready().then(function(){I(r._dbInfo,v,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var r=u.result;r?0===t?e(r.key):s?e(r.key):(s=!0,r.advance(t)):e(null)},u.onerror=function(){n(u.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},keys:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){I(e._dbInfo,v,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),a=i.openCursor(),s=[];a.onsuccess=function(){var e=a.result;e?(s.push(e.key),e.continue()):t(s)},a.onerror=function(){r(a.error)}}catch(t){r(t)}})}).catch(r)});return s(r,t),r},dropInstance:function(t,e){e=f.apply(this,arguments);var r,n=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName),t.name){var i=t.name===n.name&&this._dbInfo.db,u=i?a.resolve(this._dbInfo.db):S(t).then(function(e){var r=d[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e});r=t.storeName?u.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;b(t);var n=d[t.name],i=n.forages;e.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=r}var c=new a(function(e,n){var i=o.open(t.name,r);i.onerror=function(t){var e=i.result;e.close(),n(t)},i.onupgradeneeded=function(){var e=i.result;e.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}});return c.then(function(t){n.db=t;for(var e=0;e<i.length;e++){var r=i[e];r._dbInfo.db=t,m(r._dbInfo)}}).catch(function(e){throw(g(t,e)||a.resolve()).catch(function(){}),e})}}):u.then(function(e){b(t);var r=d[t.name],n=r.forages;e.close();for(var i=0;i<n.length;i++){var s=n[i];s._dbInfo.db=null}var u=new a(function(e,r){var n=o.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;e&&e.close(),r(t)},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}});return u.then(function(t){r.db=t;for(var e=0;e<n.length;e++){var o=n[e];m(o._dbInfo)}}).catch(function(e){throw(g(t,e)||a.resolve()).catch(function(){}),e})})}else r=a.reject("Invalid arguments");return s(r,e),r}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="~~local_forage_type~",N=/^~~local_forage_type~([^~]+)~/,x="__lfsc__:",B=x.length,D="arbf",k="blob",M="si08",P="ui08",X="uic8",L="si16",F="si32",U="ur16",W="ui32",z="fl32",q="fl64",K=B+D.length,J=Object.prototype.toString;function Y(t){var e,r,n,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),f=new Uint8Array(c);for(e=0;e<s;e+=4)r=j.indexOf(t[e]),n=j.indexOf(t[e+1]),o=j.indexOf(t[e+2]),i=j.indexOf(t[e+3]),f[u++]=r<<2|n>>4,f[u++]=(15&n)<<4|o>>2,f[u++]=(3&o)<<6|63&i;return c}function $(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=j[r[e]>>2],n+=j[(3&r[e])<<4|r[e+1]>>4],n+=j[(15&r[e+1])<<2|r[e+2]>>6],n+=j[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var V={serialize:function(t,e){var r="";if(t&&(r=J.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===J.call(t.buffer))){var n,o=x;t instanceof ArrayBuffer?(n=t,o+=D):(n=t.buffer,"[object Int8Array]"===r?o+=M:"[object Uint8Array]"===r?o+=P:"[object Uint8ClampedArray]"===r?o+=X:"[object Int16Array]"===r?o+=L:"[object Uint16Array]"===r?o+=U:"[object Int32Array]"===r?o+=F:"[object Uint32Array]"===r?o+=W:"[object Float32Array]"===r?o+=z:"[object Float64Array]"===r?o+=q:e(new Error("Failed to get type for BinaryArray"))),e(o+$(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=T+t.type+"~"+$(this.result);e(x+k+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,B)!==x)return JSON.parse(t);var e,r=t.substring(K),n=t.substring(B,K);if(n===k&&N.test(r)){var o=r.match(N);e=o[1],r=r.substring(o[0].length)}var a=Y(r);switch(n){case D:return a;case k:return i([a],{type:e});case M:return new Int8Array(a);case P:return new Uint8Array(a);case X:return new Uint8ClampedArray(a);case L:return new Int16Array(a);case U:return new Uint16Array(a);case F:return new Int32Array(a);case W:return new Uint32Array(a);case z:return new Float32Array(a);case q:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:Y,bufferToString:$};function Q(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function G(t,e,r,n,o,i){t.executeSql(r,n,o,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,s){s.rows.length?i(t,a):Q(t,e,function(){t.executeSql(r,n,o,i)},i)},i):i(t,a)},i)}var Z={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new a(function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction(function(o){Q(o,r,function(){e._dbInfo=r,t()},function(t,e){n(e)})},n)});return r.serializer=V,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var r=this,n=new a(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){G(r,o,"SELECT * FROM "+o.storeName,[],function(r,n){for(var i=n.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,u.key,s+1)))return void e(c)}e()},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=new a(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){G(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},setItem:function(t,e,r){return function t(e,r,n,o){var i=this;e=c(e);var u=new a(function(a,s){i.ready().then(function(){void 0===r&&(r=null);var u=r,c=i._dbInfo;c.serializer.serialize(r,function(r,f){f?s(f):c.db.transaction(function(t){G(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,r],function(){a(u)},function(t,e){s(e)})},function(r){if(r.code===r.QUOTA_ERR){if(o>0)return void a(t.apply(i,[e,u,n,o-1]));s(r)}})})}).catch(s)});return s(u,n),u}.apply(this,[t,e,r,1])},removeItem:function(t,e){var r=this;t=c(t);var n=new a(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){G(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},clear:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){G(e,n,"DELETE FROM "+n.storeName,[],function(){t()},function(t,e){r(e)})})}).catch(r)});return s(r,t),r},length:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){G(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,r){var n=r.rows.item(0).c;t(n)},function(t,e){r(e)})})}).catch(r)});return s(r,t),r},key:function(t,e){var r=this,n=new a(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){G(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},keys:function(t){var e=this,r=new a(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){G(e,n,"SELECT key FROM "+n.storeName,[],function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)},function(t,e){r(e)})})}).catch(r)});return s(r,t),r},dropInstance:function(t,e){e=f.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return s(n=t.name?new a(function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(function(t){return new a(function(e,r){t.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})},function(t,e){r(e)})},function(t){r(t)})})}(n))}).then(function(t){return new a(function(e,r){t.db.transaction(function(n){function o(t){return new a(function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){r(e)})})}for(var i=[],s=0,u=t.storeNames.length;s<u;s++)i.push(o(t.storeNames[s]));a.all(i).then(function(){e()}).catch(function(t){r(t)})},function(t){r(t)})})}):a.reject("Invalid arguments"),e),n}};function tt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function et(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=tt(t,this._defaultConfig),et()?(this._dbInfo=e,e.serializer=V,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var r=this,n=r.ready().then(function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(n)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(o),a++)))return c}}});return s(n,e),n},getItem:function(t,e){var r=this;t=c(t);var n=r.ready().then(function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return s(n,e),n},setItem:function(t,e,r){var n=this;t=c(t);var o=n.ready().then(function(){void 0===e&&(e=null);var r=e;return new a(function(o,i){var a=n._dbInfo;a.serializer.serialize(e,function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}})})});return s(o,r),o},removeItem:function(t,e){var r=this;t=c(t);var n=r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return s(n,e),n},clear:function(t){var e=this,r=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}});return s(r,t),r},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var r=this,n=r.ready().then(function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return s(n,e),n},keys:function(t){var e=this,r=e.ready().then(function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n});return s(r,t),r},dropInstance:function(t,e){if(e=f.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return s(n=t.name?new a(function(e){t.storeName?e(tt(t,o._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}}):a.reject("Invalid arguments"),e),n}},nt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},ot=function(t,e){for(var r=t.length,n=0;n<r;){if(nt(t[n],e))return!0;n++}return!1},it=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},st={},ut={INDEXEDDB:C,WEBSQL:Z,LOCALSTORAGE:rt},ct=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],ft=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ft),lt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dt(t,e){t[e]=function(){var r=arguments;return t.ready().then(function(){return t[e].apply(t,r)})}}function pt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(it(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var vt=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(r)){var n=ut[r],o=n._driver;this[r]=o,at[o]||this.defineDriver(n)}this._defaultConfig=pt({},lt),this._config=pt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new a(function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var i=ht.concat("_initStorage"),u=0,c=i.length;u<c;u++){var f=i[u],h=!ot(ft,f);if((h||t[f])&&"function"!=typeof t[f])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=a.reject(e);return s(r,arguments[arguments.length-1]),r}},r=0,n=ft.length;r<n;r++){var o=ft[r];t[o]||(t[o]=e(o))}}();var l=function(r){at[n]&&console.info("Redefining LocalForage driver: "+n),at[n]=t,st[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(l,r):l(!!t._support):l(!0)}catch(t){r(t)}});return u(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=at[t]?a.resolve(at[t]):a.reject(new Error("Driver not found."));return u(n,e,r),n},t.prototype.getSerializer=function(t){var e=a.resolve(V);return u(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;it(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){n._config.driver=n.driver()}function s(t){return n._extend(t),i(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=c.then(function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then(function(t){n._driver=t._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function r(){for(;e<t.length;){var o=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(s).catch(r)}i();var u=new Error("No available storage method found.");return n._driverSet=a.reject(u),n._driverSet}()}}(o)})}).catch(function(){i();var t=new Error("No available storage method found.");return n._driverSet=a.reject(t),n._driverSet}),u(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!st[t]},t.prototype._extend=function(t){pt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)dt(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),_t=new vt;e.exports=_t},{3:3}]},{},[4])(4)}).call(this,r(2))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__4__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__6__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__7__},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(10),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,o=typeof t;if("string"===o){var i,a=[],s=t.length,u=0;for(n=0;n<s;++n)(i=t.charCodeAt(n))<128?a[u++]=i:i<2048?(a[u++]=192|i>>6,a[u++]=128|63&i):i<55296||i>=57344?(a[u++]=224|i>>12,a[u++]=128|i>>6&63,a[u++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++n)),a[u++]=240|i>>18,a[u++]=128|i>>12&63,a[u++]=128|i>>6&63,a[u++]=128|63&i);t=a}else{if("object"!==o)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],f=[];for(n=0;n<64;++n){var h=t[n]||0;c[n]=92^h,f[n]=54^h}Sha256.call(this,e,r),this.update(f),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,o,i=0,a=t.length,s=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(o=this.start;i<a&&o<64;++i)s[o>>2]|=t[i]<<SHIFT[3&o++];else for(o=this.start;i<a&&o<64;++i)(n=t.charCodeAt(i))<128?s[o>>2]|=n<<SHIFT[3&o++]:n<2048?(s[o>>2]|=(192|n>>6)<<SHIFT[3&o++],s[o>>2]|=(128|63&n)<<SHIFT[3&o++]):n<55296||n>=57344?(s[o>>2]|=(224|n>>12)<<SHIFT[3&o++],s[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&n)<<SHIFT[3&o++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),s[o>>2]|=(240|n>>18)<<SHIFT[3&o++],s[o>>2]|=(128|n>>12&63)<<SHIFT[3&o++],s[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],s[o>>2]|=(128|63&n)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=s[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,o,i,a,s,u,c=this.h0,f=this.h1,h=this.h2,l=this.h3,d=this.h4,p=this.h5,v=this.h6,_=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((o=y[t-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,r=((o=y[t-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,y[t]=y[t-16]+e+y[t-7]+r<<0;for(u=f&h,t=0;t<64;t+=4)this.first?(this.is224?(i=300032,_=(o=y[0]-1413257819)-150054599<<0,l=o+24177077<<0):(i=704751109,_=(o=y[0]-210244248)-1521486534<<0,l=o+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(i=c&f)^c&h^u,_=l+(o=_+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&v)+K[t]+y[t])<<0,l=o+(e+n)<<0),e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&c)^l&f^i,v=h+(o=v+(r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&d^~_&p)+K[t+1]+y[t+1])<<0,e=((h=o+(e+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&l)^h&c^a,p=f+(o=p+(r=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&_^~v&d)+K[t+2]+y[t+2])<<0,e=((f=o+(e+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(u=f&h)^f&l^s,d=c+(o=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&v^~p&_)+K[t+3]+y[t+3])<<0,c=o+(e+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+f<<0,this.h2=this.h2+h<<0,this.h3=this.h3+l<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+v<<0,this.h7=this.h7+_<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,a=this.h6,s=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(u+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,a=this.h6,s=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||u.push(s>>24&255,s>>16&255,s>>8&255,255&s),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(9),__webpack_require__(2))},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!f){var t=s(l);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||f||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){"use strict";r.r(e);const n="API_ERROR";class o extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error)){constructor(t,e,r,o={}){super(t),this.message=t,this.status=e,this.api=r,this.name=n,this.meta=o}}var i=r(0);const a=t=>{if(void 0===t)return Object(i.Map)();const e=Object(i.fromJS)(t);if(!i.Map.isMap(e))throw new Error("Object must be equivalent to a Map.");return e},s=Object(i.Set)(["index","count","pageSize","pageCount","usingOldPaginationAPI"]),u=t=>t.filter((t,e)=>s.has(e)),c=(...t)=>{const e=1===t.length?a(t[0]).toObject():{actions:t[0],data:t[1],meta:t[2]},r=e.actions,n=e.data,o=e.meta;return Object(i.Map)({actions:Object(i.Set)(r),data:a(n),meta:a(o).update(u)})},f=(t,e)=>t.hasIn(["actions",e]),h=(t,e)=>t.get("actions",Object(i.Set)()).toMap().map(t=>e(t));class l{static create(...t){return new l(...t)}constructor(...t){if(t[0]instanceof l)return t[0];this.store=c(...t),this.actions=this.store.get("actions"),this.data=this.store.get("data"),this.meta=this.store.get("meta")}updateStore(...t){return new l(this.store.update(...t))}updateInStore(...t){return new l(this.store.updateIn(...t))}hasAction(t){return f(this.store,t)}addAction(t){return this.updateStore("actions",e=>e.add(t))}removeAction(t){return this.updateStore("actions",e=>e.delete(t))}setActions(t){return this.updateStore(e=>e.set("actions",Object(i.Set)(t)))}mergeActions(t){return this.updateStore("actions",e=>e.union(t))}getActionHandlers(t){return h(this.store,t)}setData(t){return new l(this.store.set("data",a(t)))}mergeData(t){return new l(this.store.mergeIn(["data"],a(t)))}wrapData(t){return this.updateStore("data",e=>a(t).set("wrapped_cursor_data",e))}unwrapData(){return[this.store.get("data").delete("wrapped_cursor_data"),this.updateStore("data",t=>t.get("wrapped_cursor_data"))]}clearData(){return this.updateStore("data",()=>Object(i.Map)())}setMeta(t){return this.updateStore(e=>e.set("meta",a(t)))}mergeMeta(t){return this.updateStore(e=>e.update("meta",e=>e.merge(a(t))))}}const d=Symbol("cursor key for compatibility with old backends");const p="EDITORIAL_WORKFLOW_ERROR";class v extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error)){constructor(t,e){super(t),this.message=t,this.notUnderEditorialWorkflow=e,this.name=p}}var _=r(1),y=r.n(_);y.a.setItem("localForageTest",{expires:Date.now()+3e5}).then(()=>{y.a.removeItem("localForageTest")}).catch(t=>{if(22===t.code){const t="Unable to set localStorage key. Quota exceeded! Full disk?";console.warn(t)}console.log(t)});var b=y.a;const m=new RegExp("^(?:[a-z]+:)?//","i"),g=t=>t.replace(/[\\/]+/g,"/");function E(t,e){return t?m.test(t)?t:-1===t.indexOf("/")?g(`/${e}/${t}`):g(`/${t}`):null}function S(t,e=""){if(""===t)return t;const r=(t=g(t)).split("/"),n=r[r.length-1];if(""===n&&r.length>1)return r[r.length-2];if(e.length>0){if(n.substr(n.length-e.length)===e)return n.substr(0,n.length-e.length)}return n}function w(t){const e=(t=g(t)).split("/");if(""===(t=e.pop())&&e.length>0&&(t=e.pop()),".."===t)return"";const r=t.lastIndexOf(".");return-1===r||0===r?"":t.substr(r)}function A(t){const e=w(t);return""===e?e:e.substr(1)}var R=r(3),O=r.n(R);const H=(t,e)=>Promise.all(t.map(t=>e(t))).then(e=>t.filter(()=>e.shift())),I=t=>{const e=Object.keys(t).filter(e=>"function"==typeof t[e].then),r=e.map(e=>t[e]);return Promise.all(r).then(r=>Object.assign({},t,O()(e,r)))},C=t=>e=>Promise.resolve(e).then(t);var j=r(4),T=r.n(j),N=r(5),x=r.n(N),B=r(6),D=r.n(B);function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const P=t=>{const e=M(t.split("?"),2),r=e[0],n=e[1];return Object(i.Map)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){k(t,e,r[e])})}return t}({url:r},n?{params:(t=>Object(i.List)(t.split("&")).map(t=>Object(i.List)(t.split("=")).map(decodeURIComponent)).update(i.Map))(n)}:{}))},X=t=>`${t.get("url")}${t.get("params")?`?${(t=>t.entrySeq().map(([t,e])=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&"))(t.get("params"))}`:""}`,L=t=>D()(t)?P(t):t?Object(i.fromJS)(t):Object(i.Map)(),F=t=>e=>t(L(e)),U=F(t=>fetch(...(t=>[X(t),t.delete("url").delete("params").toJS()])(t))),W=x()([t=>(e,r)=>t(e,L(r)),T.a]),z=t=>[W((e,r)=>r.setIn(t,e)),W((e,r)=>r.getIn(t)?r:r.setIn(t,e))],q=t=>[W((e,r)=>r.updateIn(t,(t=Object(i.Map)())=>t.merge(e))),W((e,r)=>r.updateIn(t,(t=Object(i.Map)())=>Object(i.Map)(e).merge(t)))],K=M(z(["method"]),2),J=K[0],Y=K[1],$=M(z(["body"]),2),V=$[0],Q=$[1],G=M(q(["params"]),2),Z=G[0],tt=G[1],et=M(q(["headers"]),2),rt=et[0],nt=et[1],ot=new RegExp("^(?:[a-z]+:)?//","i"),it=W((t,e)=>e.update("url",e=>ot.test(e)?e:t&&e&&"/"!==e[0]&&"/"!==t[t.length-1]?`${t}/${e}`:`${t}${e}`)),at=F(t=>Z({ts:(new Date).getTime()},t));var st={toURL:X,fromURL:P,performRequest:U,withMethod:J,withDefaultMethod:Y,withBody:V,withDefaultBody:Q,withHeaders:rt,withDefaultHeaders:nt,withParams:Z,withDefaultParams:tt,withRoot:it,withTimestamp:at},ut=r(7),ct=r.n(ut);const ft=(t,e)=>r=>r.filter(r=>A(ct()(r,e))===t),ht=Object(i.fromJS)({json:async t=>{const e=t.headers.get("Content-Type");if(!e.startsWith("application/json")&&!e.startsWith("text/json"))throw new Error(`${e} is not a valid JSON Content-Type`);return t.json()},text:async t=>t.text(),blob:async t=>t.blob()}).mapEntries(([t,e])=>[t,((t,e)=>r=>{try{return e(r)}catch(e){throw new Error(`Response cannot be parsed into the expected format (${t}): ${e.message}`)}})(t,e)]),lt=async(t,{expectingOk:e=!0,format:r="text"}={})=>{if(e&&!t.ok)throw new Error(`Expected an ok response, but received an error status: ${t.status}.`);const n=ht.get(r,!1);if(!n)throw new Error(`${r} is not a supported response format.`);return await n(t)},dt=t=>e=>lt(e,t);function pt(t){return new Promise((e,r)=>{let n=!1;const o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=t,i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?r():(n=!0,e())},i.onerror=(t=>r(t)),o.appendChild(i)})}var vt=r(8),_t=r.n(vt),yt=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=(({target:{result:t}})=>e(_t()(t))),n.onerror=(t=>{n.abort(),r(t)}),n.readAsArrayBuffer(t)});r.d(e,"APIError",function(){return o}),r.d(e,"Cursor",function(){return l}),r.d(e,"CURSOR_COMPATIBILITY_SYMBOL",function(){return d}),r.d(e,"EditorialWorkflowError",function(){return v}),r.d(e,"EDITORIAL_WORKFLOW_ERROR",function(){return p}),r.d(e,"localForage",function(){return b}),r.d(e,"resolvePath",function(){return E}),r.d(e,"basename",function(){return S}),r.d(e,"fileExtensionWithSeparator",function(){return w}),r.d(e,"fileExtension",function(){return A}),r.d(e,"filterPromises",function(){return H}),r.d(e,"resolvePromiseProperties",function(){return I}),r.d(e,"then",function(){return C}),r.d(e,"unsentRequest",function(){return st}),r.d(e,"filterByPropExtension",function(){return ft}),r.d(e,"parseResponse",function(){return lt}),r.d(e,"responseParser",function(){return dt}),r.d(e,"loadScript",function(){return pt}),r.d(e,"getBlobSHA",function(){return yt})}])});
//# sourceMappingURL=netlify-cms-lib-util.js.map