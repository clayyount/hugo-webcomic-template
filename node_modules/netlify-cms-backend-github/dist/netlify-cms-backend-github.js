!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("netlify-cms-lib-util"),require("prop-types"),require("react"),require("lodash/last"),require("lodash/find"),require("netlify-cms-ui-default"),require("lodash/trimStart"),require("react-emotion"),require("netlify-cms-lib-auth"),require("lodash/result"),require("lodash/partial"),require("lodash/hasIn"),require("lodash/get"),require("lodash/initial"),require("lodash/uniq")):"function"==typeof define&&define.amd?define("netlify-cms-backend-github",["netlify-cms-lib-util","prop-types","react","lodash/last","lodash/find","netlify-cms-ui-default","lodash/trimStart","react-emotion","netlify-cms-lib-auth","lodash/result","lodash/partial","lodash/hasIn","lodash/get","lodash/initial","lodash/uniq"],e):"object"==typeof exports?exports["netlify-cms-backend-github"]=e(require("netlify-cms-lib-util"),require("prop-types"),require("react"),require("lodash/last"),require("lodash/find"),require("netlify-cms-ui-default"),require("lodash/trimStart"),require("react-emotion"),require("netlify-cms-lib-auth"),require("lodash/result"),require("lodash/partial"),require("lodash/hasIn"),require("lodash/get"),require("lodash/initial"),require("lodash/uniq")):t["netlify-cms-backend-github"]=e(t["netlify-cms-lib-util"],t["prop-types"],t.react,t["lodash/last"],t["lodash/find"],t["netlify-cms-ui-default"],t["lodash/trimStart"],t["react-emotion"],t["netlify-cms-lib-auth"],t["lodash/result"],t["lodash/partial"],t["lodash/hasIn"],t["lodash/get"],t["lodash/initial"],t["lodash/uniq"])}(window,function(t,e,r,n,i,o,s,u,a,h,c,f,l,p,d){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=25)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e){t.exports=n},function(t,e){t.exports=i},function(t,e,r){(function(e){!function(r){"use strict";var n=function(t){setTimeout(t,0)};void 0!==e&&e&&"function"==typeof e.nextTick&&(n=e.nextTick),t.exports=function(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(e.leave)},e.current+r.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(r);e.current+=r.n-t,r.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var r=e.queue[0];r.n+e.current>e.capacity||(e.queue.shift(),e.current+=r.n,n(r.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}}()}).call(this,r(19))},function(t,e){t.exports=o},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=s},function(t,e,r){"use strict";var n=r(20),i="<<anonymous>>",o={listOf:function(t){return h(t,"List",n.List.isList)},mapOf:function(t,e){return c(t,e,"Map",n.Map.isMap)},orderedMapOf:function(t,e){return c(t,e,"OrderedMap",n.OrderedMap.isOrderedMap)},setOf:function(t){return h(t,"Set",n.Set.isSet)},orderedSetOf:function(t){return h(t,"OrderedSet",n.OrderedSet.isOrderedSet)},stackOf:function(t){return h(t,"Stack",n.Stack.isStack)},iterableOf:function(t){return h(t,"Iterable",n.Iterable.isIterable)},recordOf:function(t){return u(function(e,r,i,o,u){for(var a=arguments.length,h=Array(a>5?a-5:0),c=5;c<a;c++)h[c-5]=arguments[c];var f=e[r];if(!(f instanceof n.Record)){var l=s(f),p=o;return new Error("Invalid "+p+" `"+u+"` of type `"+l+"` supplied to `"+i+"`, expected an Immutable.js Record.")}for(var d in t){var _=t[d];if(_){var y=f.toObject(),v=_.apply(void 0,[y,d,i,o,u+"."+d].concat(h));if(v)return v}}})},shape:l,contains:l,mapContains:function(t){return f(t,"Map",n.Map.isMap)},list:a("List",n.List.isList),map:a("Map",n.Map.isMap),orderedMap:a("OrderedMap",n.OrderedMap.isOrderedMap),set:a("Set",n.Set.isSet),orderedSet:a("OrderedSet",n.OrderedSet.isOrderedSet),stack:a("Stack",n.Stack.isStack),seq:a("Seq",n.Seq.isSeq),record:a("Record",function(t){return t instanceof n.Record}),iterable:a("Iterable",n.Iterable.isIterable)};function s(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":t instanceof n.Iterable?"Immutable."+t.toSource().split(" ")[0]:e}function u(t){function e(e,r,n,o,s,u){for(var a=arguments.length,h=Array(a>6?a-6:0),c=6;c<a;c++)h[c-6]=arguments[c];return u=u||n,o=o||i,null!=r[n]?t.apply(void 0,[r,n,o,s,u].concat(h)):e?new Error("Required "+s+" `"+u+"` was not specified in `"+o+"`."):void 0}var r=e.bind(null,!1);return r.isRequired=e.bind(null,!0),r}function a(t,e){return u(function(r,n,i,o,u){var a=r[n];if(!e(a)){var h=s(a);return new Error("Invalid "+o+" `"+u+"` of type `"+h+"` supplied to `"+i+"`, expected `"+t+"`.")}return null})}function h(t,e,r){return u(function(n,i,o,u,a){for(var h=arguments.length,c=Array(h>5?h-5:0),f=5;f<h;f++)c[f-5]=arguments[f];var l=n[i];if(!r(l)){var p=u,d=s(l);return new Error("Invalid "+p+" `"+a+"` of type `"+d+"` supplied to `"+o+"`, expected an Immutable.js "+e+".")}if("function"!=typeof t)return new Error("Invalid typeChecker supplied to `"+o+"` for propType `"+a+"`, expected a function.");for(var _=l.toArray(),y=0,v=_.length;y<v;y++){var g=t.apply(void 0,[_,y,o,u,a+"["+y+"]"].concat(c));if(g instanceof Error)return g}})}function c(t,e,r,n){return u(function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return h(t,r,n).apply(void 0,o)||e&&function(t){return u(function(e,r,n,i,o){for(var s=arguments.length,u=Array(s>5?s-5:0),a=5;a<s;a++)u[a-5]=arguments[a];var h=e[r];if("function"!=typeof t)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var c=h.keySeq().toArray(),f=0,l=c.length;f<l;f++){var p=t.apply(void 0,[c,f,n,i,o+" -> key("+c[f]+")"].concat(u));if(p instanceof Error)return p}})}(e).apply(void 0,o)})}function f(t){var e=void 0===arguments[1]?"Iterable":arguments[1],r=void 0===arguments[2]?n.Iterable.isIterable:arguments[2];return u(function(n,i,o,u,a){for(var h=arguments.length,c=Array(h>5?h-5:0),f=5;f<h;f++)c[f-5]=arguments[f];var l=n[i];if(!r(l)){var p=s(l);return new Error("Invalid "+u+" `"+a+"` of type `"+p+"` supplied to `"+o+"`, expected an Immutable.js "+e+".")}var d=l.toObject();for(var _ in t){var y=t[_];if(y){var v=y.apply(void 0,[d,_,o,u,a+"."+_].concat(c));if(v)return v}}})}function l(t){return f(t)}t.exports=o},function(t,e){t.exports=u},function(t,e){t.exports=a},function(t,e){t.exports=h},function(t,e){t.exports=c},function(t,e){t.exports=f},function(t,e){t.exports=l},function(t,e){t.exports=p},function(t,e){t.exports=d},function(t,e,r){(function(n){var i;!function(n,o){t.exports=function(n){"use strict";var o,s=n.Base64;if(void 0!==t&&t.exports)if("undefined"!=typeof navigator&&"ReactNative"==navigator.product);else try{o=r(21).Buffer}catch(t){}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t.charAt(r)]=r;return e}(u),h=String.fromCharCode,c=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(t){return t.replace(f,c)},p=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),n=[u.charAt(r>>>18),u.charAt(r>>>12&63),e>=2?"=":u.charAt(r>>>6&63),e>=1?"=":u.charAt(63&r)];return n.join("")},d=n.btoa?function(t){return n.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,p)},_=o?o.from&&Uint8Array&&o.from!==Uint8Array.from?function(t){return(t.constructor===o.constructor?t:o.from(t)).toString("base64")}:function(t){return(t.constructor===o.constructor?t:new o(t)).toString("base64")}:function(t){return d(l(t))},y=function(t,e){return e?_(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_(String(t))},v=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),g=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return h(55296+(r>>>10))+h(56320+(1023&r));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(v,g)},w=function(t){var e=t.length,r=e%4,n=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),i=[h(n>>>16),h(n>>>8&255),h(255&n)];return i.length-=[0,0,2,1][r],i.join("")},b=n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,w)},S=o?o.from&&Uint8Array&&o.from!==Uint8Array.from?function(t){return(t.constructor===o.constructor?t:o.from(t,"base64")).toString()}:function(t){return(t.constructor===o.constructor?t:new o(t,"base64")).toString()}:function(t){return m(b(t))},E=function(t){return S(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(n.Base64={VERSION:"2.4.8",atob:b,btoa:d,fromBase64:E,toBase64:y,utob:l,encode:y,encodeURI:function(t){return y(t,!0)},btou:m,decode:E,noConflict:function(){var t=n.Base64;return n.Base64=s,t}},"function"==typeof Object.defineProperty){var I=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",I(function(){return E(this)})),Object.defineProperty(String.prototype,"toBase64",I(function(t){return y(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",I(function(){return y(this,!0)}))}}n.Meteor&&(Base64=n.Base64);void 0!==t&&t.exports?t.exports.Base64=n.Base64:void 0===(i=function(){return n.Base64}.apply(e,[]))||(t.exports=i);return{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this)}).call(this,r(7))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,h=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?h=a.concat(h):f=-1,h.length&&p())}function p(){if(!c){var t=u(l);c=!0;for(var e=h.length;e;){for(a=h,h=[];++f<e;)a&&a[f].run();f=-1,e=h.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new d(t,e)),1!==h.length||c||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return s(t)?t:W(t)}function n(t){return u(t)?t:H(t)}function i(t){return a(t)?t:J(t)}function o(t){return s(t)&&!h(t)?t:V(t)}function s(t){return!(!t||!t[f])}function u(t){return!(!t||!t[l])}function a(t){return!(!t||!t[p])}function h(t){return u(t)||a(t)}function c(t){return!(!t||!t[d])}e(n,r),e(i,r),e(o,r),r.isIterable=s,r.isKeyed=u,r.isIndexed=a,r.isAssociative=h,r.isOrdered=c,r.Keyed=n,r.Indexed=i,r.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",l="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",_=5,y=1<<_,v=y-1,g={},m={value:!1},w={value:!1};function b(t){return t.value=!1,t}function S(t){t&&(t.value=!0)}function E(){}function I(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function A(t){return void 0===t.size&&(t.size=t.__iterate(O)),t.size}function R(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?A(t)+e:e}function O(){return!0}function q(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function M(t,e){return x(t,e,0)}function z(t,e){return x(t,e,e)}function x(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var k=0,P=1,U=2,T="function"==typeof Symbol&&Symbol.iterator,B="@@iterator",D=T||B;function j(t){this.next=t}function C(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function L(){return{value:void 0,done:!0}}function $(t){return!!Y(t)}function N(t){return t&&"function"==typeof t.next}function F(t){var e=Y(t);return e&&e.call(t)}function Y(t){var e=t&&(T&&t[T]||t[B]);if("function"==typeof e)return e}function K(t){return t&&"number"==typeof t.length}function W(t){return null===t||void 0===t?ot():s(t)?t.toSeq():function(t){var e=at(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function H(t){return null===t||void 0===t?ot().toKeyedSeq():s(t)?u(t)?t.toSeq():t.fromEntrySeq():st(t)}function J(t){return null===t||void 0===t?ot():s(t)?u(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function V(t){return(null===t||void 0===t?ot():s(t)?u(t)?t.entrySeq():t:ut(t)).toSetSeq()}j.prototype.toString=function(){return"[Iterator]"},j.KEYS=k,j.VALUES=P,j.ENTRIES=U,j.prototype.inspect=j.prototype.toSource=function(){return this.toString()},j.prototype[D]=function(){return this},e(W,r),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return ht(this,t,e,!0)},W.prototype.__iterator=function(t,e){return ct(this,t,e,!0)},e(H,W),H.prototype.toKeyedSeq=function(){return this},e(J,W),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(t,e){return ht(this,t,e,!1)},J.prototype.__iterator=function(t,e){return ct(this,t,e,!1)},e(V,W),V.of=function(){return V(arguments)},V.prototype.toSetSeq=function(){return this},W.isSeq=it,W.Keyed=H,W.Set=V,W.Indexed=J;var G,X,Z,Q="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function nt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[Q])}function ot(){return G||(G=new tt([]))}function st(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():N(t)?new nt(t).fromEntrySeq():$(t)?new rt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=at(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function at(t){return K(t)?new tt(t):N(t)?new nt(t):$(t)?new rt(t):void 0}function ht(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var u=i[r?o-s:s];if(!1===e(u[1],n?u[0]:s,t))return s+1}return s}return t.__iterateUncached(e,r)}function ct(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,s=0;return new j(function(){var t=i[r?o-s:s];return s++>o?{value:void 0,done:!0}:C(e,n?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,r)}function ft(t,e){return e?function t(e,r,n,i){return Array.isArray(r)?e.call(i,n,J(r).map(function(n,i){return t(e,n,i,r)})):pt(r)?e.call(i,n,H(r).map(function(n,i){return t(e,n,i,r)})):r}(e,t,"",{"":t}):lt(t)}function lt(t){return Array.isArray(t)?J(t).map(lt).toList():pt(t)?H(t).map(lt).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function dt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function _t(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!h(t);if(c(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&dt(i[1],t)&&(r||dt(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,l=e.__iterate(function(e,n){if(r?!t.has(e):i?!dt(e,t.get(n,g)):!dt(t.get(n,g),e))return f=!1,!1});return f&&t.size===l}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(X)return X;X=this}}function vt(t,e){if(!t)throw new Error(e)}function gt(t,e,r){if(!(this instanceof gt))return new gt(t,e,r);if(vt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function mt(){throw TypeError("Abstract")}function wt(){}function bt(){}function St(){}W.prototype[Q]=!0,e(tt,J),tt.prototype.get=function(t,e){return this.has(t)?this._array[R(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new j(function(){return i>n?{value:void 0,done:!0}:C(t,i,r[e?n-i++:i++])})},e(et,H),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var s=n[e?i-o:o];if(!1===t(r[s],s,this))return o+1}return o},et.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new j(function(){var s=n[e?i-o:o];return o++>i?{value:void 0,done:!0}:C(t,s,r[s])})},et.prototype[d]=!0,e(rt,J),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=F(r),i=0;if(N(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,i++,this););return i},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=F(r);if(!N(n))return new j(L);var i=0;return new j(function(){var e=n.next();return e.done?e:C(t,i++,e.value)})},e(nt,J),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var s=r.value;if(i[o]=s,!1===t(s,o++,this))break}return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new j(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return C(t,i,n[i++])})},e(yt,J),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return dt(this._value,t)},yt.prototype.slice=function(t,e){var r=this.size;return q(t,e,r)?this:new yt(this._value,z(e,r)-M(t,r))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return dt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return dt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},yt.prototype.__iterator=function(t,e){var r=this,n=0;return new j(function(){return n<r.size?C(t,n++,r._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?dt(this._value,t._value):_t(t)},e(gt,J),gt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},gt.prototype.get=function(t,e){return this.has(t)?this._start+R(this,t)*this._step:e},gt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},gt.prototype.slice=function(t,e){return q(t,e,this.size)?this:(t=M(t,this.size),(e=z(e,this.size))<=t?new gt(0,0):new gt(this.get(t,this._end),this.get(e,this._end),this._step))},gt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},gt.prototype.lastIndexOf=function(t){return this.indexOf(t)},gt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},gt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new j(function(){var s=i;return i+=e?-n:n,o>r?{value:void 0,done:!0}:C(t,o++,s)})},gt.prototype.equals=function(t){return t instanceof gt?this._start===t._start&&this._end===t._end&&this._step===t._step:_t(this,t)},e(mt,r),e(wt,mt),e(bt,mt),e(St,mt),mt.Keyed=wt,mt.Indexed=bt,mt.Set=St;var Et="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function It(t){return t>>>1&1073741824|3221225471&t}function At(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return It(r)}if("string"===e)return t.length>Pt?function(t){var e=Bt[t];return void 0===e&&(e=Rt(t),Tt===Ut&&(Tt=0,Bt={}),Tt++,Bt[t]=e),e}(t):Rt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(zt&&void 0!==(e=Ot.get(t)))return e;if(void 0!==(e=t[kt]))return e;if(!Mt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++xt,1073741824&xt&&(xt=0),zt)Ot.set(t,e);else{if(void 0!==qt&&!1===qt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Mt)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[kt]=e}}return e}(t);if("function"==typeof t.toString)return Rt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Rt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return It(e)}var Ot,qt=Object.isExtensible,Mt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),zt="function"==typeof WeakMap;zt&&(Ot=new WeakMap);var xt=0,kt="__immutablehash__";"function"==typeof Symbol&&(kt=Symbol(kt));var Pt=16,Ut=255,Tt=0,Bt={};function Dt(t){vt(t!==1/0,"Cannot perform this action with an infinite size.")}function jt(t){return null===t||void 0===t?Zt():Ct(t)&&!c(t)?t:Zt().withMutations(function(e){var r=n(t);Dt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function Ct(t){return!(!t||!t[$t])}e(jt,wt),jt.of=function(){var e=t.call(arguments,0);return Zt().withMutations(function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}})},jt.prototype.toString=function(){return this.__toString("Map {","}")},jt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},jt.prototype.set=function(t,e){return Qt(this,t,e)},jt.prototype.setIn=function(t,e){return this.updateIn(t,g,function(){return e})},jt.prototype.remove=function(t){return Qt(this,t,g)},jt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return g})},jt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},jt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i){var o=e===g,s=r.next();if(s.done){var u=o?n:e,a=i(u);return a===u?e:a}vt(o||e&&e.set,"invalid keyPath");var h=s.value,c=o?g:e.get(h,g),f=t(c,r,n,i);return f===c?e:f===g?e.remove(h):(o?Zt():e).set(h,f)}(this,rr(t),e,r);return n===g?void 0:n},jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},jt.prototype.merge=function(){return ne(this,void 0,arguments)},jt.prototype.mergeWith=function(e){var r=t.call(arguments,1);return ne(this,e,r)},jt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]})},jt.prototype.mergeDeep=function(){return ne(this,ie,arguments)},jt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return ne(this,oe(e),r)},jt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]})},jt.prototype.sort=function(t){return Me(Ke(this,t))},jt.prototype.sortBy=function(t,e){return Me(Ke(this,e,t))},jt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},jt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},jt.prototype.asImmutable=function(){return this.__ensureOwner()},jt.prototype.wasAltered=function(){return this.__altered},jt.prototype.__iterator=function(t,e){return new Jt(this,t,e)},jt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},jt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},jt.isMap=Ct;var Lt,$t="@@__IMMUTABLE_MAP__@@",Nt=jt.prototype;function Ft(t,e){this.ownerID=t,this.entries=e}function Yt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Kt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Wt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Ht(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function Jt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Gt(t._root)}function Vt(t,e){return C(t,e[0],e[1])}function Gt(t,e){return{node:t,index:0,__prev:e}}function Xt(t,e,r,n){var i=Object.create(Nt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Zt(){return Lt||(Lt=Xt(0))}function Qt(t,e,r){var n,i;if(t._root){var o=b(m),s=b(w);if(n=te(t._root,t.__ownerID,0,void 0,e,r,o,s),!s.value)return t;i=t.size+(o.value?r===g?-1:1:0)}else{if(r===g)return t;i=1,n=new Ft(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Xt(i,n):Zt()}function te(t,e,r,n,i,o,s,u){return t?t.update(e,r,n,i,o,s,u):o===g?t:(S(u),S(s),new Ht(e,n,[i,o]))}function ee(t){return t.constructor===Ht||t.constructor===Wt}function re(t,e,r,n,i){if(t.keyHash===n)return new Wt(e,n,[t.entry,i]);var o,s=(0===r?t.keyHash:t.keyHash>>>r)&v,u=(0===r?n:n>>>r)&v,a=s===u?[re(t,e,r+_,n,i)]:(o=new Ht(e,n,i),s<u?[t,o]:[o,t]);return new Yt(e,1<<s|1<<u,a)}function ne(t,e,r){for(var i=[],o=0;o<r.length;o++){var u=r[o],a=n(u);s(u)||(a=a.map(function(t){return ft(t)})),i.push(a)}return se(t,e,i)}function ie(t,e,r){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):dt(t,e)?t:e}function oe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&s(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return dt(e,i)?e:i}}function se(t,e,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,g,function(t){return t===g?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)}):t.constructor(r[0])}function ue(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ae(t,e,r,n){var i=n?t:I(t);return i[e]=r,i}Nt[$t]=!0,Nt.delete=Nt.remove,Nt.removeIn=Nt.deleteIn,Ft.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(dt(r,i[o][0]))return i[o][1];return n},Ft.prototype.update=function(t,e,r,n,i,o,s){for(var u=i===g,a=this.entries,h=0,c=a.length;h<c&&!dt(n,a[h][0]);h++);var f=h<c;if(f?a[h][1]===i:u)return this;if(S(s),(u||!f)&&S(o),!u||1!==a.length){if(!f&&!u&&a.length>=he)return function(t,e,r,n){t||(t=new E);for(var i=new Ht(t,At(r),[r,n]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}(t,a,n,i);var l=t&&t===this.ownerID,p=l?a:I(a);return f?u?h===c-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),l?(this.entries=p,this):new Ft(t,p)}},Yt.prototype.get=function(t,e,r,n){void 0===e&&(e=At(r));var i=1<<((0===t?e:e>>>t)&v),o=this.bitmap;return 0==(o&i)?n:this.nodes[ue(o&i-1)].get(t+_,e,r,n)},Yt.prototype.update=function(t,e,r,n,i,o,s){void 0===r&&(r=At(n));var u=(0===e?r:r>>>e)&v,a=1<<u,h=this.bitmap,c=0!=(h&a);if(!c&&i===g)return this;var f=ue(h&a-1),l=this.nodes,p=c?l[f]:void 0,d=te(p,t,e+_,r,n,i,o,s);if(d===p)return this;if(!c&&d&&l.length>=ce)return function(t,e,r,n,i){for(var o=0,s=new Array(y),u=0;0!==r;u++,r>>>=1)s[u]=1&r?e[o++]:void 0;return s[n]=i,new Kt(t,o+1,s)}(t,l,h,u,d);if(c&&!d&&2===l.length&&ee(l[1^f]))return l[1^f];if(c&&d&&1===l.length&&ee(d))return d;var m=t&&t===this.ownerID,w=c?d?h:h^a:h|a,b=c?d?ae(l,f,d,m):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,s=0;s<n;s++)s===e&&(o=1),i[s]=t[s+o];return i}(l,f,m):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),s=0,u=0;u<i;u++)u===e?(o[u]=r,s=-1):o[u]=t[u+s];return o}(l,f,d,m);return m?(this.bitmap=w,this.nodes=b,this):new Yt(t,w,b)},Kt.prototype.get=function(t,e,r,n){void 0===e&&(e=At(r));var i=(0===t?e:e>>>t)&v,o=this.nodes[i];return o?o.get(t+_,e,r,n):n},Kt.prototype.update=function(t,e,r,n,i,o,s){void 0===r&&(r=At(n));var u=(0===e?r:r>>>e)&v,a=i===g,h=this.nodes,c=h[u];if(a&&!c)return this;var f=te(c,t,e+_,r,n,i,o,s);if(f===c)return this;var l=this.count;if(c){if(!f&&--l<fe)return function(t,e,r,n){for(var i=0,o=0,s=new Array(r),u=0,a=1,h=e.length;u<h;u++,a<<=1){var c=e[u];void 0!==c&&u!==n&&(i|=a,s[o++]=c)}return new Yt(t,i,s)}(t,h,l,u)}else l++;var p=t&&t===this.ownerID,d=ae(h,u,f,p);return p?(this.count=l,this.nodes=d,this):new Kt(t,l,d)},Wt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(dt(r,i[o][0]))return i[o][1];return n},Wt.prototype.update=function(t,e,r,n,i,o,s){void 0===r&&(r=At(n));var u=i===g;if(r!==this.keyHash)return u?this:(S(s),S(o),re(this,t,e,r,[n,i]));for(var a=this.entries,h=0,c=a.length;h<c&&!dt(n,a[h][0]);h++);var f=h<c;if(f?a[h][1]===i:u)return this;if(S(s),(u||!f)&&S(o),u&&2===c)return new Ht(t,this.keyHash,a[1^h]);var l=t&&t===this.ownerID,p=l?a:I(a);return f?u?h===c-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),l?(this.entries=p,this):new Wt(t,this.keyHash,p)},Ht.prototype.get=function(t,e,r,n){return dt(r,this.entry[0])?this.entry[1]:n},Ht.prototype.update=function(t,e,r,n,i,o,s){var u=i===g,a=dt(n,this.entry[0]);return(a?i===this.entry[1]:u)?this:(S(s),u?void S(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new Ht(t,this.keyHash,[n,i]):(S(o),re(this,t,e,At(n),[n,i])))},Ft.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Yt.prototype.iterate=Kt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},Ht.prototype.iterate=function(t,e){return t(this.entry)},e(Jt,j),Jt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return Vt(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,i<=r)return Vt(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,i<=r){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Vt(t,o.entry);e=this._stack=Gt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var he=y/4,ce=y/2,fe=y/4;function le(t){var e=Se();if(null===t||void 0===t)return e;if(pe(t))return t;var r=i(t),n=r.size;return 0===n?e:(Dt(n),n>0&&n<y?be(0,n,_,null,new ye(r.toArray())):e.withMutations(function(t){t.setSize(n),r.forEach(function(e,r){return t.set(r,e)})}))}function pe(t){return!(!t||!t[de])}e(le,bt),le.of=function(){return this(arguments)},le.prototype.toString=function(){return this.__toString("List [","]")},le.prototype.get=function(t,e){if((t=R(this,t))>=0&&t<this.size){var r=Ae(this,t+=this._origin);return r&&r.array[t&v]}return e},le.prototype.set=function(t,e){return function(t,e,r){if((e=R(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Re(t,e).set(0,r):Re(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=b(w);return e>=qe(t._capacity)?n=Ee(n,t.__ownerID,0,e,r,o):i=Ee(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):be(t._origin,t._capacity,t._level,i,n):t}(this,t,e)},le.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},le.prototype.insert=function(t,e){return this.splice(t,0,e)},le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=_,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Se()},le.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){Re(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},le.prototype.pop=function(){return Re(this,0,-1)},le.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Re(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},le.prototype.shift=function(){return Re(this,1)},le.prototype.merge=function(){return Oe(this,void 0,arguments)},le.prototype.mergeWith=function(e){var r=t.call(arguments,1);return Oe(this,e,r)},le.prototype.mergeDeep=function(){return Oe(this,ie,arguments)},le.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Oe(this,oe(e),r)},le.prototype.setSize=function(t){return Re(this,0,t)},le.prototype.slice=function(t,e){var r=this.size;return q(t,e,r)?this:Re(this,M(t,r),z(e,r))},le.prototype.__iterator=function(t,e){var r=0,n=we(this,e);return new j(function(){var e=n();return e===me?{value:void 0,done:!0}:C(t,r++,e)})},le.prototype.__iterate=function(t,e){for(var r,n=0,i=we(this,e);(r=i())!==me&&!1!==t(r,n++,this););return n},le.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?be(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},le.isList=pe;var de="@@__IMMUTABLE_LIST__@@",_e=le.prototype;function ye(t,e){this.array=t,this.ownerID=e}_e[de]=!0,_e.delete=_e.remove,_e.setIn=Nt.setIn,_e.deleteIn=_e.removeIn=Nt.removeIn,_e.update=Nt.update,_e.updateIn=Nt.updateIn,_e.mergeIn=Nt.mergeIn,_e.mergeDeepIn=Nt.mergeDeepIn,_e.withMutations=Nt.withMutations,_e.asMutable=Nt.asMutable,_e.asImmutable=Nt.asImmutable,_e.wasAltered=Nt.wasAltered,ye.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&v;if(n>=this.array.length)return new ye([],t);var i,o=0===n;if(e>0){var s=this.array[n];if((i=s&&s.removeBefore(t,e-_,r))===s&&o)return this}if(o&&!i)return this;var u=Ie(this,t);if(!o)for(var a=0;a<n;a++)u.array[a]=void 0;return i&&(u.array[n]=i),u},ye.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&v;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-_,r))===o&&i===this.array.length-1)return this}var s=Ie(this,t);return s.array.splice(i+1),n&&(s.array[i]=n),s};var ve,ge,me={};function we(t,e){var r=t._origin,n=t._capacity,i=qe(n),o=t._tail;return s(t._root,t._level,0);function s(t,u,a){return 0===u?function(t,s){var u=s===i?o&&o.array:t&&t.array,a=s>r?0:r-s,h=n-s;return h>y&&(h=y),function(){if(a===h)return me;var t=e?--h:a++;return u&&u[t]}}(t,a):function(t,i,o){var u,a=t&&t.array,h=o>r?0:r-o>>i,c=1+(n-o>>i);return c>y&&(c=y),function(){for(;;){if(u){var t=u();if(t!==me)return t;u=null}if(h===c)return me;var r=e?--c:h++;u=s(a&&a[r],i-_,o+(r<<i))}}}(t,u,a)}}function be(t,e,r,n,i,o,s){var u=Object.create(_e);return u.size=e-t,u._origin=t,u._capacity=e,u._level=r,u._root=n,u._tail=i,u.__ownerID=o,u.__hash=s,u.__altered=!1,u}function Se(){return ve||(ve=be(0,0,_))}function Ee(t,e,r,n,i,o){var s,u=n>>>r&v,a=t&&u<t.array.length;if(!a&&void 0===i)return t;if(r>0){var h=t&&t.array[u],c=Ee(h,e,r-_,n,i,o);return c===h?t:((s=Ie(t,e)).array[u]=c,s)}return a&&t.array[u]===i?t:(S(o),s=Ie(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Ie(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function Ae(t,e){if(e>=qe(t._capacity))return t._tail;if(e<1<<t._level+_){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&v],n-=_;return r}}function Re(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new E,i=t._origin,o=t._capacity,s=i+e,u=void 0===r?o:r<0?o+r:i+r;if(s===i&&u===o)return t;if(s>=u)return t.clear();for(var a=t._level,h=t._root,c=0;s+c<0;)h=new ye(h&&h.array.length?[void 0,h]:[],n),c+=1<<(a+=_);c&&(s+=c,i+=c,u+=c,o+=c);for(var f=qe(o),l=qe(u);l>=1<<a+_;)h=new ye(h&&h.array.length?[h]:[],n),a+=_;var p=t._tail,d=l<f?Ae(t,u-1):l>f?new ye([],n):p;if(p&&l>f&&s<o&&p.array.length){for(var y=h=Ie(h,n),g=a;g>_;g-=_){var m=f>>>g&v;y=y.array[m]=Ie(y.array[m],n)}y.array[f>>>_&v]=p}if(u<o&&(d=d&&d.removeAfter(n,0,u)),s>=l)s-=l,u-=l,a=_,h=null,d=d&&d.removeBefore(n,0,s);else if(s>i||l<f){for(c=0;h;){var w=s>>>a&v;if(w!==l>>>a&v)break;w&&(c+=(1<<a)*w),a-=_,h=h.array[w]}h&&s>i&&(h=h.removeBefore(n,a,s-c)),h&&l<f&&(h=h.removeAfter(n,a,l-c)),c&&(s-=c,u-=c)}return t.__ownerID?(t.size=u-s,t._origin=s,t._capacity=u,t._level=a,t._root=h,t._tail=d,t.__hash=void 0,t.__altered=!0,t):be(s,u,a,h,d)}function Oe(t,e,r){for(var n=[],o=0,u=0;u<r.length;u++){var a=r[u],h=i(a);h.size>o&&(o=h.size),s(a)||(h=h.map(function(t){return ft(t)})),n.push(h)}return o>t.size&&(t=t.setSize(o)),se(t,e,n)}function qe(t){return t<y?0:t-1>>>_<<_}function Me(t){return null===t||void 0===t?ke():ze(t)?t:ke().withMutations(function(e){var r=n(t);Dt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function ze(t){return Ct(t)&&c(t)}function xe(t,e,r,n){var i=Object.create(Me.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function ke(){return ge||(ge=xe(Zt(),Se()))}function Pe(t,e,r){var n,i,o=t._map,s=t._list,u=o.get(e),a=void 0!==u;if(r===g){if(!a)return t;s.size>=y&&s.size>=2*o.size?(i=s.filter(function(t,e){return void 0!==t&&u!==e}),n=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=u===s.size-1?s.pop():s.set(u,void 0))}else if(a){if(r===s.get(u)[1])return t;n=o,i=s.set(u,[e,r])}else n=o.set(e,s.size),i=s.set(s.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):xe(n,i)}function Ue(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Te(t){this._iter=t,this.size=t.size}function Be(t){this._iter=t,this.size=t.size}function De(t){this._iter=t,this.size=t.size}function je(t){var e=Qe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return!1!==e(r,t,n)},r)},e.__iteratorUncached=function(e,r){if(e===U){var n=t.__iterator(e,r);return new j(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===P?k:P,r)},e}function Ce(t,e,r){var n=Qe(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,g);return o===g?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,s){return!1!==n(e.call(r,t,i,s),i,o)},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(U,i);return new j(function(){var i=o.next();if(i.done)return i;var s=i.value,u=s[0];return C(n,u,e.call(r,s[1],u,t),i)})},n}function Le(t,e){var r=Qe(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=je(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=tr,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function $e(t,e,r,n){var i=Qe(t);return n&&(i.has=function(n){var i=t.get(n,g);return i!==g&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,g);return o!==g&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,u=0;return t.__iterate(function(t,o,a){if(e.call(r,t,o,a))return u++,i(t,n?o:u-1,s)},o),u},i.__iteratorUncached=function(i,o){var s=t.__iterator(U,o),u=0;return new j(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value,h=a[0],c=a[1];if(e.call(r,c,h,t))return C(i,n?h:u++,c,o)}})},i}function Ne(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r===1/0?r=i:r|=0),q(e,r,i))return t;var o=M(e,i),s=z(r,i);if(o!=o||s!=s)return Ne(t.toSeq().cacheResult(),e,r,n);var u,a=s-o;a==a&&(u=a<0?0:a);var h=Qe(t);return h.size=0===u?u:t.size&&u||void 0,!n&&it(t)&&u>=0&&(h.get=function(e,r){return(e=R(this,e))>=0&&e<u?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===u)return 0;if(r)return this.cacheResult().__iterate(e,r);var s=0,a=!0,h=0;return t.__iterate(function(t,r){if(!a||!(a=s++<o))return h++,!1!==e(t,n?r:h-1,i)&&h!==u}),h},h.__iteratorUncached=function(e,r){if(0!==u&&r)return this.cacheResult().__iterator(e,r);var i=0!==u&&t.__iterator(e,r),s=0,a=0;return new j(function(){for(;s++<o;)i.next();if(++a>u)return{value:void 0,done:!0};var t=i.next();return n||e===P?t:C(e,a-1,e===k?void 0:t.value[1],t)})},h}function Fe(t,e,r,n){var i=Qe(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,a=0;return t.__iterate(function(t,o,h){if(!u||!(u=e.call(r,t,o,h)))return a++,i(t,n?o:a-1,s)}),a},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(U,o),a=!0,h=0;return new j(function(){var t,o,c;do{if((t=u.next()).done)return n||i===P?t:C(i,h++,i===k?void 0:t.value[1],t);var f=t.value;o=f[0],c=f[1],a&&(a=e.call(r,c,o,s))}while(a);return i===U?t:C(i,o,c,t)})},i}function Ye(t,e,r){var n=Qe(t);return n.__iterateUncached=function(n,i){var o=0,u=!1;return function t(a,h){var c=this;a.__iterate(function(i,a){return(!e||h<e)&&s(i)?t(i,h+1):!1===n(i,r?a:o++,c)&&(u=!0),!u},i)}(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),u=[],a=0;return new j(function(){for(;o;){var t=o.next();if(!1===t.done){var h=t.value;if(n===U&&(h=h[1]),e&&!(u.length<e)||!s(h))return r?t:C(n,a++,h,t);u.push(o),o=h.__iterator(n,i)}else o=u.pop()}return{value:void 0,done:!0}})},n}function Ke(t,e,r){e||(e=er);var n=u(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?H(o):a(t)?J(o):V(o)}function We(t,e,r){if(e||(e=er),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return He(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return He(e,t,r)?r:t})}function He(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(void 0===r||null===r||r!=r)||n>0}function Je(t,e,n){var i=Qe(t);return i.size=new tt(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(P,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=r(t),F(i?t.reverse():t)}),s=0,u=!1;return new j(function(){var r;return u||(r=o.map(function(t){return t.next()}),u=r.some(function(t){return t.done})),u?{value:void 0,done:!0}:C(t,s++,e.apply(null,r.map(function(t){return t.value})))})},i}function Ve(t,e){return it(t)?e:t.constructor(e)}function Ge(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Xe(t){return Dt(t.size),A(t)}function Ze(t){return u(t)?n:a(t)?i:o}function Qe(t){return Object.create((u(t)?H:a(t)?J:V).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function er(t,e){return t>e?1:t<e?-1:0}function rr(t){var e=F(t);if(!e){if(!K(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(r(t))}return e}function nr(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){vt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}}(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=jt(o)},i=n.prototype=Object.create(ir);return i.constructor=n,n}e(Me,jt),Me.of=function(){return this(arguments)},Me.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Me.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Me.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Me.prototype.set=function(t,e){return Pe(this,t,e)},Me.prototype.remove=function(t){return Pe(this,t,g)},Me.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Me.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Me.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Me.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?xe(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Me.isOrderedMap=ze,Me.prototype[d]=!0,Me.prototype.delete=Me.prototype.remove,e(Ue,H),Ue.prototype.get=function(t,e){return this._iter.get(t,e)},Ue.prototype.has=function(t){return this._iter.has(t)},Ue.prototype.valueSeq=function(){return this._iter.valueSeq()},Ue.prototype.reverse=function(){var t=this,e=Le(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ue.prototype.map=function(t,e){var r=this,n=Ce(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ue.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?Xe(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ue.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(P,e),n=e?Xe(this):0;return new j(function(){var i=r.next();return i.done?i:C(t,e?--n:n++,i.value,i)})},Ue.prototype[d]=!0,e(Te,J),Te.prototype.includes=function(t){return this._iter.includes(t)},Te.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},Te.prototype.__iterator=function(t,e){var r=this._iter.__iterator(P,e),n=0;return new j(function(){var e=r.next();return e.done?e:C(t,n++,e.value,e)})},e(Be,V),Be.prototype.has=function(t){return this._iter.includes(t)},Be.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},Be.prototype.__iterator=function(t,e){var r=this._iter.__iterator(P,e);return new j(function(){var e=r.next();return e.done?e:C(t,e.value,e.value,e)})},e(De,H),De.prototype.entrySeq=function(){return this._iter.toSeq()},De.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){Ge(e);var n=s(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},De.prototype.__iterator=function(t,e){var r=this._iter.__iterator(P,e);return new j(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Ge(n);var i=s(n);return C(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},Te.prototype.cacheResult=Ue.prototype.cacheResult=Be.prototype.cacheResult=De.prototype.cacheResult=tr,e(nr,wt),nr.prototype.toString=function(){return this.__toString(sr(this)+" {","}")},nr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},nr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=or(this,Zt()))},nr.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+sr(this));if(this._map&&!this._map.has(t)){var r=this._defaultValues[t];if(e===r)return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:or(this,n)},nr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:or(this,e)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},nr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},nr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?or(this,e,t):(this.__ownerID=t,this._map=e,this)};var ir=nr.prototype;function or(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function sr(t){return t._name||t.constructor.name||"Record"}function ur(t){return null===t||void 0===t?dr():ar(t)&&!c(t)?t:dr().withMutations(function(e){var r=o(t);Dt(r.size),r.forEach(function(t){return e.add(t)})})}function ar(t){return!(!t||!t[cr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Nt.removeIn,ir.merge=Nt.merge,ir.mergeWith=Nt.mergeWith,ir.mergeIn=Nt.mergeIn,ir.mergeDeep=Nt.mergeDeep,ir.mergeDeepWith=Nt.mergeDeepWith,ir.mergeDeepIn=Nt.mergeDeepIn,ir.setIn=Nt.setIn,ir.update=Nt.update,ir.updateIn=Nt.updateIn,ir.withMutations=Nt.withMutations,ir.asMutable=Nt.asMutable,ir.asImmutable=Nt.asImmutable,e(ur,St),ur.of=function(){return this(arguments)},ur.fromKeys=function(t){return this(n(t).keySeq())},ur.prototype.toString=function(){return this.__toString("Set {","}")},ur.prototype.has=function(t){return this._map.has(t)},ur.prototype.add=function(t){return lr(this,this._map.set(t,!0))},ur.prototype.remove=function(t){return lr(this,this._map.remove(t))},ur.prototype.clear=function(){return lr(this,this._map.clear())},ur.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},ur.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.every(function(t){return t.includes(r)})||t.remove(r)})})},ur.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.some(function(t){return t.includes(r)})&&t.remove(r)})})},ur.prototype.merge=function(){return this.union.apply(this,arguments)},ur.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},ur.prototype.sort=function(t){return _r(Ke(this,t))},ur.prototype.sortBy=function(t,e){return _r(Ke(this,e,t))},ur.prototype.wasAltered=function(){return this._map.wasAltered()},ur.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},ur.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},ur.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},ur.isSet=ar;var hr,cr="@@__IMMUTABLE_SET__@@",fr=ur.prototype;function lr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pr(t,e){var r=Object.create(fr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function dr(){return hr||(hr=pr(Zt()))}function _r(t){return null===t||void 0===t?wr():yr(t)?t:wr().withMutations(function(e){var r=o(t);Dt(r.size),r.forEach(function(t){return e.add(t)})})}function yr(t){return ar(t)&&c(t)}fr[cr]=!0,fr.delete=fr.remove,fr.mergeDeep=fr.merge,fr.mergeDeepWith=fr.mergeWith,fr.withMutations=Nt.withMutations,fr.asMutable=Nt.asMutable,fr.asImmutable=Nt.asImmutable,fr.__empty=dr,fr.__make=pr,e(_r,ur),_r.of=function(){return this(arguments)},_r.fromKeys=function(t){return this(n(t).keySeq())},_r.prototype.toString=function(){return this.__toString("OrderedSet {","}")},_r.isOrderedSet=yr;var vr,gr=_r.prototype;function mr(t,e){var r=Object.create(gr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function wr(){return vr||(vr=mr(ke()))}function br(t){return null===t||void 0===t?Or():Sr(t)?t:Or().unshiftAll(t)}function Sr(t){return!(!t||!t[Ir])}gr[d]=!0,gr.__empty=wr,gr.__make=mr,e(br,bt),br.of=function(){return this(arguments)},br.prototype.toString=function(){return this.__toString("Stack [","]")},br.prototype.get=function(t,e){var r=this._head;for(t=R(this,t);r&&t--;)r=r.next;return r?r.value:e},br.prototype.peek=function(){return this._head&&this._head.value},br.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Rr(t,e)},br.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Dt(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Rr(e,r)},br.prototype.pop=function(){return this.slice(1)},br.prototype.unshift=function(){return this.push.apply(this,arguments)},br.prototype.unshiftAll=function(t){return this.pushAll(t)},br.prototype.shift=function(){return this.pop.apply(this,arguments)},br.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Or()},br.prototype.slice=function(t,e){if(q(t,e,this.size))return this;var r=M(t,this.size),n=z(e,this.size);if(n!==this.size)return bt.prototype.slice.call(this,t,e);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Rr(i,o)},br.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Rr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},br.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},br.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new j(function(){if(n){var e=n.value;return n=n.next,C(t,r++,e)}return{value:void 0,done:!0}})},br.isStack=Sr;var Er,Ir="@@__IMMUTABLE_STACK__@@",Ar=br.prototype;function Rr(t,e,r,n){var i=Object.create(Ar);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Or(){return Er||(Er=Rr(0))}function qr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}Ar[Ir]=!0,Ar.withMutations=Nt.withMutations,Ar.asMutable=Nt.asMutable,Ar.asImmutable=Nt.asImmutable,Ar.wasAltered=Nt.wasAltered,r.Iterator=j,qr(r,{toArray:function(){Dt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new Te(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Ue(this,!0)},toMap:function(){return jt(this.toKeyedSeq())},toObject:function(){Dt(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Me(this.toKeyedSeq())},toOrderedSet:function(){return _r(u(this)?this.valueSeq():this)},toSet:function(){return ur(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Be(this)},toSeq:function(){return a(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return br(u(this)?this.valueSeq():this)},toList:function(){return le(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Ve(this,function(t,e){var r=u(t),i=[t].concat(e).map(function(t){return s(t)?r&&(t=n(t)):t=r?st(t):ut(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&u(o)||a(t)&&a(o))return o}var h=new tt(i);return r?h=h.toKeyedSeq():a(t)||(h=h.toSetSeq()),(h=h.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}(this,e))},includes:function(t){return this.some(function(e){return dt(e,t)})},entries:function(){return this.__iterator(U)},every:function(t,e){Dt(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function(t,e){return Ve(this,$e(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Dt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Dt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!==n&&void 0!==n?n.toString():""}),e},keys:function(){return this.__iterator(k)},map:function(t,e){return Ve(this,Ce(this,t,e))},reduce:function(t,e,r){var n,i;return Dt(this.size),arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,s){i?(i=!1,n=e):n=t.call(r,n,e,o,s)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Ve(this,Le(this,!0))},slice:function(t,e){return Ve(this,Ne(this,t,e,!0))},some:function(t,e){return!this.every(Pr(t),e)},sort:function(t){return Ve(this,Ke(this,t))},values:function(){return this.__iterator(P)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return A(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=jt().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}(this,t,e)},equals:function(t){return _t(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(kr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Pr(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(O)},flatMap:function(t,e){return Ve(this,function(t,e,r){var n=Ze(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Ve(this,Ye(this,t,!0))},fromEntrySeq:function(){return new De(this)},get:function(t,e){return this.find(function(e,r){return dt(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=rr(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,g):g)===g)return e}return n},groupBy:function(t,e){return function(t,e,r){var n=u(t),i=(c(t)?Me():jt()).asMutable();t.__iterate(function(o,s){i.update(e.call(r,o,s,t),function(t){return(t=t||[]).push(n?[s,o]:o),t})});var o=Ze(t);return i.map(function(e){return Ve(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return dt(e,t)})},keySeq:function(){return this.toSeq().map(xr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return We(this,t)},maxBy:function(t,e){return We(this,e,t)},min:function(t){return We(this,t?Ur(t):Dr)},minBy:function(t,e){return We(this,e?Ur(e):Dr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ve(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ve(this,Fe(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Pr(t),e)},sortBy:function(t,e){return Ve(this,Ke(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ve(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ve(this,function(t,e,r){var n=Qe(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var s=0;return t.__iterate(function(t,i,u){return e.call(r,t,i,u)&&++s&&n(t,i,o)}),s},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var s=t.__iterator(U,i),u=!0;return new j(function(){if(!u)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===U?t:C(n,a,h,t):(u=!1,{value:void 0,done:!0})})},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Pr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=c(t),r=u(t),n=e?1:0;return function(t,e){return e=Et(e,3432918353),e=Et(e<<15|e>>>-15,461845907),e=Et(e<<13|e>>>-13,5),e=Et((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=It((e=Et(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+jr(At(t),At(e))|0}:function(t,e){n=n+jr(At(t),At(e))|0}:e?function(t){n=31*n+At(t)|0}:function(t){n=n+At(t)|0}),n)}(this))}});var Mr=r.prototype;Mr[f]=!0,Mr[D]=Mr.values,Mr.__toJS=Mr.toArray,Mr.__toStringMapper=Tr,Mr.inspect=Mr.toSource=function(){return this.toString()},Mr.chain=Mr.flatMap,Mr.contains=Mr.includes,qr(n,{flip:function(){return Ve(this,je(this))},mapEntries:function(t,e){var r=this,n=0;return Ve(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Ve(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var zr=n.prototype;function xr(t,e){return e}function kr(t,e){return[e,t]}function Pr(t){return function(){return!t.apply(this,arguments)}}function Ur(t){return function(){return-t.apply(this,arguments)}}function Tr(t){return"string"==typeof t?JSON.stringify(t):String(t)}function Br(){return I(arguments)}function Dr(t,e){return t<e?1:t>e?-1:0}function jr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return zr[l]=!0,zr[D]=Mr.entries,zr.__toJS=Mr.toObject,zr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Tr(t)},qr(i,{toKeyedSeq:function(){return new Ue(this,!1)},filter:function(t,e){return Ve(this,$e(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ve(this,Le(this,!1))},slice:function(t,e){return Ve(this,Ne(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=M(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ve(this,1===r?n:n.concat(I(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ve(this,Ye(this,t,!1))},get:function(t,e){return(t=R(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return(t=R(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ve(this,function(t,e){var r=Qe(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(P,n),s=0;return new j(function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?C(r,s++,e):C(r,s++,i.value,i)})},r}(this,t))},interleave:function(){var t=[this].concat(I(arguments)),e=Je(this.toSeq(),J.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Ve(this,r)},keySeq:function(){return gt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ve(this,Fe(this,t,e,!1))},zip:function(){return Ve(this,Je(this,Br,[this].concat(I(arguments))))},zipWith:function(t){var e=I(arguments);return e[0]=this,Ve(this,Je(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,qr(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Mr.includes,o.prototype.contains=o.prototype.includes,qr(H,n.prototype),qr(J,i.prototype),qr(V,o.prototype),qr(wt,n.prototype),qr(bt,i.prototype),qr(St,o.prototype),{Iterable:r,Seq:W,Collection:mt,Map:jt,OrderedMap:Me,List:le,Stack:br,Set:ur,OrderedSet:_r,Record:nr,Range:gt,Repeat:yt,is:dt,fromJS:ft}}()},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(22),i=r(23),o=r(24);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return h(this,t,e,r)}function h(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=l(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=u(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(a.isBuffer(e)){var r=0|p(e.length);return 0===(t=u(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?u(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=u(t,e<0?0:0|p(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(n)return L(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,u/=2,a/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=r;o<u;o++)if(h(t,o)===h(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===a)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+a>u&&(r=u-a),o=r;o>=0;o--){for(var f=!0,l=0;l<a;l++)if(h(t,o+l)!==h(e,l)){f=!1;break}if(f)return o}return-1}function g(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var u=parseInt(e.substr(2*s,2),16);if(isNaN(u))return s;t[r+s]=u}return s}function m(t,e,r,n){return N(L(e,t.length-r),t,r,n)}function w(t,e,r,n){return N(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r,n){return w(t,e,r,n)}function S(t,e,r,n){return N($(e),t,r,n)}function E(t,e,r,n){return N(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,u,a,h=t[i],c=null,f=h>239?4:h>223?3:h>191?2:1;if(i+f<=r)switch(f){case 1:h<128&&(c=h);break;case 2:128==(192&(o=t[i+1]))&&(a=(31&h)<<6|63&o)>127&&(c=a);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(a=(15&h)<<12|(63&o)<<6|63&s)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:o=t[i+1],s=t[i+2],u=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&u)&&(a=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&a<1114112&&(c=a)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return h(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?u(t,e):void 0!==r?"string"==typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}(null,t,e,r)},a.allocUnsafe=function(t){return f(null,t)},a.allocUnsafeSlow=function(t){return f(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return q(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,u=Math.min(o,s),h=this.slice(n,i),c=t.slice(e,r),f=0;f<u;++f)if(h[f]!==c[f]){o=h[f],s=c[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return b(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function q(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=C(t[o]);return i}function z(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function x(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,n,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function U(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function T(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return o||T(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,o){return o||T(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var o=0,s=1,u=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var o=r-1,s=1,u=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=a.isBuffer(t)?t:L(new a(t,n).toString()),u=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%u]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function C(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function N(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(7))},function(t,e,r){"use strict";e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=h(t),n=r[0],s=r[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),a=0,c=s>0?n-4:n,f=0;f<c;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;2===s&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,u[a++]=255&e);1===s&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,u[a++]=e>>8&255,u[a++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,u=r-i;s<u;s+=16383)o.push(f(t,s,s+16383>u?u:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=s.length;u<a;++u)n[u]=s[u],i[s.charCodeAt(u)]=u;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function f(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(c(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,u=8*i-n-1,a=(1<<u)-1,h=a>>1,c=-7,f=r?i-1:0,l=r?-1:1,p=t[e+f];for(f+=l,o=p&(1<<-c)-1,p>>=-c,c+=u;c>0;o=256*o+t[e+f],f+=l,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+f],f+=l,c-=8);if(0===o)o=1-h;else{if(o===a)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=h}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,u,a,h=8*o-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),(e+=s+f>=1?l/a:l*Math.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=c?(u=0,s=c):s+f>=1?(u=(e*a-1)*Math.pow(2,i),s+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&u,p+=d,u/=256,i-=8);for(s=s<<i|u,h+=i;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*_}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";r.r(e);var n=r(8),i=r.n(n),o=r(5),s=r.n(o),u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["",""],["",""]);var h=function(){function t(){for(var e=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return"function"==typeof t?e.interimTag.bind(e,t):"string"==typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map(function(t){return"function"==typeof t?t():t}),this.tag}return u(t,[{key:"interimTag",value:function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.tag(a,t.apply(void 0,[e].concat(n)))}},{key:"processSubstitutions",value:function(t,e,r){var n=this.transformSubstitution(t.shift(),e);return"".concat(e,n,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,e){return e.onString?e.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,e){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,e):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,e){return e.onEndResult?e.onEndResult(t):t},t)}}]),t}(),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if("start"===(t=t.toLowerCase())||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}};var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var r=e.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(r.map(function(t){return t.length})));if(n){var i=new RegExp("^.{"+n+"}","gm");return e.replace(i,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}},l=function(t,e){return{onEndResult:function(r){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(t,e)}}},p=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},d={separator:"",conjunction:"",serial:!1},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return{onSubstitution:function(e,r){if(Array.isArray(e)){var n=e.length,i=t.separator,o=t.conjunction,s=t.serial,u=r.match(/(\n?[^\S\n]+)$/);if(e=u?e.join(i+u[1]):e.join(i+" "),o&&n>1){var a=e.lastIndexOf(i);e=e.slice(0,a)+(s?i:"")+" "+o+e.slice(a+1)}}return e}}},y=function(t){return{onSubstitution:function(e,r){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},v=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t},g=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(v):v(t)?t:""}}},m=(new h(_({separator:","}),f,c),new h(_({separator:",",conjunction:"and"}),f,c),new h(_({separator:",",conjunction:"or"}),f,c),new h(y("\n"),g,_,f,c),new h(y("\n"),_,f,c,p(/&/g,"&amp;"),p(/</g,"&lt;"),p(/>/g,"&gt;"),p(/"/g,"&quot;"),p(/'/g,"&#x27;"),p(/`/g,"&#x60;")),new h(l(/(?:\n(?:\s*))+/g," "),c),new h(l(/(?:\n\s*)/g,""),c),new h(_({separator:","}),l(/(?:\s+)/g," "),c),new h(_({separator:",",conjunction:"or"}),l(/(?:\s+)/g," "),c),new h(_({separator:",",conjunction:"and"}),l(/(?:\s+)/g," "),c),new h(_,f,c),new h(_,l(/(?:\s+)/g," "),c),new h(f,c)),w=(new h(f("all"),c),r(2)),b=r.n(w),S=r(1),E=r.n(S),I=r(9),A=r.n(I),R=r(10),O=r.n(R),q=r(11),M=r(6);function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const x=O()(M.Icon,{label:"LoginButtonIcon",target:"e191r7590"})("margin-right:18px;");class k extends b.a.Component{constructor(...t){super(...t),z(this,"state",{}),z(this,"handleLogin",t=>{t.preventDefault();const e={base_url:this.props.base_url,site_id:"localhost"===document.location.host.split(":")[0]?"cms.netlify.com":this.props.siteId,auth_endpoint:this.props.authEndpoint};new q.NetlifyAuthenticator(e).authenticate({provider:"github",scope:"repo"},(t,e)=>{t?this.setState({loginError:t.toString()}):this.props.onLogin(e)})})}render(){const t=this.props,e=t.inProgress,r=t.config;return b.a.createElement(M.AuthenticationPage,{onLogin:this.handleLogin,loginDisabled:e,loginErrorMessage:this.state.loginError,logoUrl:r.get("logo_url"),renderButtonContent:()=>b.a.createElement(b.a.Fragment,null,b.a.createElement(x,{type:"github"})," ",e?"Logging in...":"Login with GitHub")})}}z(k,"propTypes",{onLogin:E.a.func.isRequired,inProgress:E.a.bool,base_url:E.a.string,siteId:E.a.string,authEndpoint:E.a.string,config:A.a.map,clearHash:E.a.func});var P=r(12),U=r.n(P),T=r(13),B=r.n(T),D=r(14),j=r.n(D),C=r(4),L=r.n(C),$=r(15),N=r.n($),F=r(3),Y=r.n(F),K=r(16),W=r.n(K),H=r(17),J=r.n(H),V=r(0),G=r(18);function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Z(t,e,r[e])})}return t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Q="cms/";class tt{constructor(t){this.api_root=t.api_root||"https://api.github.com",this.token=t.token||!1,this.branch=t.branch||"master",this.repo=t.repo||"",this.repoURL=`/repos/${this.repo}`,this.merge_method=t.squash_merges?"squash":"merge",this.initialWorkflowStatus=t.initialWorkflowStatus}user(){return this.request("/user")}hasWriteAccess(){return this.request(this.repoURL).then(t=>t.permissions.push).catch(t=>{throw console.error("Problem fetching repo data from GitHub"),t})}requestHeaders(t={}){const e=X({"Content-Type":"application/json"},t);return this.token?(e.Authorization=`token ${this.token}`,e):e}parseJsonResponse(t){return t.json().then(e=>t.ok?e:Promise.reject(e))}urlFor(t,e){const r=[`ts=${(new Date).getTime()}`];if(e.params)for(const t in e.params)r.push(`${t}=${encodeURIComponent(e.params[t])}`);return r.length&&(t+=`?${r.join("&")}`),this.api_root+t}request(t,e={}){const r=this.requestHeaders(e.headers||{}),n=this.urlFor(t,e);let i;return fetch(n,X({},e,{headers:r})).then(t=>{i=t.status;const e=t.headers.get("Content-Type");if(e&&e.match(/json/))return this.parseJsonResponse(t);const r=t.text();return t.ok?r:Promise.reject(r)}).catch(t=>{throw new V.APIError(t.message,i,"GitHub")})}generateBranchName(t){return`${Q}${t}`}checkMetadataRef(){return this.request(`${this.repoURL}/git/refs/meta/_netlify_cms?${Date.now()}`,{cache:"no-store"}).then(t=>t.object).catch(()=>{return this.uploadBlob({raw:"# Netlify CMS\n\nThis tree is used by the Netlify CMS to store metadata information for specific files and branches."}).then(t=>this.request(`${this.repoURL}/git/trees`,{method:"POST",body:JSON.stringify({tree:[{path:"README.md",mode:"100644",type:"blob",sha:t.sha}]})})).then(t=>this.commit("First Commit",t)).then(t=>this.createRef("meta","_netlify_cms",t.sha)).then(t=>t.object)})}storeMetadata(t,e){return this.checkMetadataRef().then(r=>{const n={[`${t}.json`]:{path:`${t}.json`,raw:JSON.stringify(e),file:!0}};return this.uploadBlob(n[`${t}.json`]).then(()=>this.updateTree(r.sha,"/",n)).then(e=>this.commit(`Updating “${t}” metadata`,e)).then(t=>this.patchRef("meta","_netlify_cms",t.sha)).then(()=>{V.localForage.setItem(`gh.meta.${t}`,{expires:Date.now()+3e5,data:e})})})}retrieveMetadata(t){return V.localForage.getItem(`gh.meta.${t}`).then(e=>e&&e.expires>Date.now()?e.data:(console.log("%c Checking for MetaData files","line-height: 30px;text-align: center;font-weight: bold"),this.request(`${this.repoURL}/contents/${t}.json`,{params:{ref:"refs/meta/_netlify_cms"},headers:{Accept:"application/vnd.github.VERSION.raw"},cache:"no-store"}).then(t=>JSON.parse(t)).catch(()=>console.log("%c %s does not have metadata","line-height: 30px;text-align: center;font-weight: bold",t))))}readFile(t,e,r=this.branch){return e?this.getBlob(e):this.request(`${this.repoURL}/contents/${t}`,{headers:{Accept:"application/vnd.github.VERSION.raw"},params:{ref:r},cache:"no-store"}).catch(e=>{if(j()(e,"message.errors")&&L()(e.message.errors,{code:"too_large"})){const e=t.split("/").slice(0,-1).join("/");return this.listFiles(e).then(e=>e.find(e=>e.path===t)).then(t=>this.getBlob(t.sha))}throw e})}getBlob(t){return V.localForage.getItem(`gh.${t}`).then(e=>e||this.request(`${this.repoURL}/git/blobs/${t}`,{headers:{Accept:"application/vnd.github.VERSION.raw"}}).then(e=>(V.localForage.setItem(`gh.${t}`,e),e)))}listFiles(t){return this.request(`${this.repoURL}/contents/${t.replace(/\/$/,"")}`,{params:{ref:this.branch}}).then(e=>{if(!Array.isArray(e))throw new Error(`Cannot list files, path ${t} is not a directory but a ${e.type}`);return e}).then(t=>t.filter(t=>"file"===t.type))}readUnpublishedBranchFile(t){const e=this.retrieveMetadata(t).then(t=>t.objects.entry.path?t:Promise.reject(null));return Object(V.resolvePromiseProperties)({metaData:e,fileData:e.then(t=>this.readFile(t.objects.entry.path,null,t.branch)),isModification:e.then(t=>this.isUnpublishedEntryModification(t.objects.entry.path,this.branch))}).catch(()=>{throw new V.EditorialWorkflowError("content is not under editorial workflow",!0)})}isUnpublishedEntryModification(t,e){return this.readFile(t,null,e).then(()=>!0).catch(t=>{if(t.message&&"Not Found"===t.message)return!1;throw t})}listUnpublishedBranches(){return console.log("%c Checking for Unpublished entries","line-height: 30px;text-align: center;font-weight: bold"),this.request(`${this.repoURL}/git/refs/heads/cms`).then(t=>Object(V.filterPromises)(t,t=>{const e=t.ref.substring("/refs/heads/".length-1);return this.request(`${this.repoURL}/pulls`,{params:{head:e,state:"open",base:this.branch}}).then(t=>t.some(t=>t.head.ref===e))})).catch(t=>{throw console.log("%c No Unpublished entries","line-height: 30px;text-align: center;font-weight: bold"),t})}async getStatuses(t){return(await this.request(`${this.repoURL}/commits/${t}/status`)).statuses}composeFileTree(t){let e,r,n,i;const o={};return t.forEach(t=>{if(!t.uploaded){for(n=t.path.split("/").filter(t=>t),e=n.pop(),i=o;r=n.shift();)i[r]=i[r]||{},i=i[r];i[e]=t,t.file=!0}}),o}persistFiles(t,e,r){const n=[],i=t?e.concat(t):e;i.forEach(t=>{t.uploaded||n.push(this.uploadBlob(t))});const o=this.composeFileTree(i);return Promise.all(n).then(()=>{if(r.useWorkflow){const n=e.map(t=>({path:t.path,sha:t.sha}));return this.editorialWorkflowGit(o,t,n,r)}return this.getBranch().then(t=>this.updateTree(t.commit.sha,"/",o)).then(t=>this.commit(r.commitMessage,t)).then(t=>this.patchBranch(this.branch,t.sha))})}deleteFile(t,e,r={}){const n=r.branch||this.branch,i=t.split("/"),o=Y()(i),s=W()(i).join("/"),u=encodeURIComponent(s),a=`${this.repoURL}/git/trees/${n}:${u}`,h=`${this.repoURL}/contents/${t}`;return this.request(a,{cache:"no-store"}).then(t=>{const r={method:"DELETE",params:{sha:t.tree.find(t=>t.path===o).sha,message:e,branch:n}};return this.commitAuthor&&(r.params.author=X({},this.commitAuthor,{date:(new Date).toISOString()})),this.request(h,r)})}editorialWorkflowGit(t,e,r,n){const i=e.slug,o=this.generateBranchName(i);if(n.unpublished||!1){let s;return this.getBranch(o).then(e=>this.updateTree(e.commit.sha,"/",t)).then(t=>this.commit(n.commitMessage,t)).then(t=>(s=t,this.retrieveMetadata(i))).then(t=>{const u=n.parsedData||{},a=u.title,h=u.description,c=[...N()(t.objects,"files",[]),...r],f=X({},t.pr,{head:s.sha}),l=X({},t,{pr:f,title:a,description:h,objects:{entry:{path:e.path,sha:e.sha},files:J()(c)}});return n.hasAssetStore?this.storeMetadata(i,l).then(()=>this.patchBranch(o,s.sha)):this.rebasePullRequest(f.number,o,i,t,s)})}{let s;return this.getBranch().then(e=>this.updateTree(e.commit.sha,"/",t)).then(t=>this.commit(n.commitMessage,t)).then(t=>this.createBranch(o,t.sha)).then(()=>this.createPR(n.commitMessage,o)).then(t=>(s=t,this.user())).then(t=>this.storeMetadata(i,{type:"PR",pr:{number:s.number,head:s.head&&s.head.sha},user:t.name||t.login,status:this.initialWorkflowStatus,branch:o,collection:n.collectionName,title:n.parsedData&&n.parsedData.title,description:n.parsedData&&n.parsedData.description,objects:{entry:{path:e.path,sha:e.sha},files:r},timeStamp:(new Date).toISOString()}))}}async rebasePullRequest(t,e,r,n,i){const o=n.objects.entry.path;try{const s=await this.getBranch(),u=await this.getPullRequestCommits(t,i),a=this.assertHead(u,i),h=await this.rebaseSingleBlobCommits(s.commit,a,o),c=X({},n,{pr:X({},n.pr,{head:h.sha}),timeStamp:(new Date).toISOString()});return await this.storeMetadata(r,c),this.patchBranch(e,h.sha,{force:!0})}catch(t){throw console.error(t),t}}rebaseSingleBlobCommits(t,e,r){if(0===e.length||e[0].parents[0].sha===t.sha)return Promise.resolve(Y()(e));return e.reduce((t,e)=>t.then(t=>{const n=this.normalizeCommit(t),i=this.normalizeCommit(e);return this.rebaseSingleBlobCommit(n,i,r)}),Promise.resolve(t))}rebaseSingleBlobCommit(t,e,r){const n=e.message,i=e.author,o=e.committer,s=[t.sha];return this.getBlobInTree(e.tree.sha,r).then(e=>this.createTree(t.tree.sha,[X({},e,{path:r})])).then(t=>this.createCommit(n,t.sha,s,i,o))}getPullRequest(t){return this.request(`${this.repoURL}/pulls/${t} }`)}getPullRequestCommits(t){return this.request(`${this.repoURL}/pulls/${t}/commits`)}assertHead(t,e){const r=e.parents[0].sha===Y()(t).sha,n=e.sha===Y()(t).sha;if(r)return t.concat(e);if(n)return t;throw Error("Editorial workflow branch changed unexpectedly.")}updateUnpublishedEntryStatus(t,e,r){const n=e;return this.retrieveMetadata(n).then(t=>X({},t,{status:r})).then(t=>this.storeMetadata(n,t))}deleteUnpublishedEntry(t,e){const r=e,n=this.generateBranchName(r);return this.retrieveMetadata(r).then(t=>this.closePR(t.pr)).then(()=>this.deleteBranch(n)).catch(t=>"Reference does not exist"===t.message?Promise.resolve():Promise.reject(t))}publishUnpublishedEntry(t,e){const r=e,n=this.generateBranchName(r);return this.retrieveMetadata(r).then(t=>this.mergePR(t.pr,t.objects)).then(()=>this.deleteBranch(n))}createRef(t,e,r){return this.request(`${this.repoURL}/git/refs`,{method:"POST",body:JSON.stringify({ref:`refs/${t}/${e}`,sha:r})})}patchRef(t,e,r,n={}){const i=n.force||!1;return this.request(`${this.repoURL}/git/refs/${t}/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({sha:r,force:i})})}deleteRef(t,e){return this.request(`${this.repoURL}/git/refs/${t}/${encodeURIComponent(e)}`,{method:"DELETE"})}getBranch(t=this.branch){return this.request(`${this.repoURL}/branches/${encodeURIComponent(t)}`)}createBranch(t,e){return this.createRef("heads",t,e)}assertCmsBranch(t){return t.startsWith(Q)}patchBranch(t,e,r={}){const n=r.force||!1;if(n&&!this.assertCmsBranch(t))throw Error(`Only CMS branches can be force updated, cannot force update ${t}`);return this.patchRef("heads",t,e,{force:n})}deleteBranch(t){return this.deleteRef("heads",t)}createPR(t,e,r=this.branch){return this.request(`${this.repoURL}/pulls`,{method:"POST",body:JSON.stringify({title:t,body:"Automatically generated by Netlify CMS",head:e,base:r})})}closePR(t){const e=t.number;return console.log("%c Deleting PR","line-height: 30px;text-align: center;font-weight: bold"),this.request(`${this.repoURL}/pulls/${e}`,{method:"PATCH",body:JSON.stringify({state:closed})})}mergePR(t,e){const r=t.head,n=t.number;return console.log("%c Merging PR","line-height: 30px;text-align: center;font-weight: bold"),this.request(`${this.repoURL}/pulls/${n}/merge`,{method:"PUT",body:JSON.stringify({commit_message:"Automatically generated. Merged on Netlify CMS.",sha:r,merge_method:this.merge_method})}).catch(r=>{if(r instanceof V.APIError&&405===r.status)return this.forceMergePR(t,e);throw r})}forceMergePR(t,e){const r=e.files.concat(e.entry),n=this.composeFileTree(r);let i="Automatically generated. Merged on Netlify CMS\n\nForce merge of:";return r.forEach(t=>{i+=`\n* "${t.path}"`}),console.log("%c Automatic merge not possible - Forcing merge.","line-height: 30px;text-align: center;font-weight: bold"),this.getBranch().then(t=>this.updateTree(t.commit.sha,"/",n)).then(t=>this.commit(i,t)).then(t=>this.patchBranch(this.branch,t.sha))}getTree(t){return t?this.request(`${this.repoURL}/git/trees/${t}`):Promise.resolve({tree:[]})}getBlobInTree(t,e){const r=e.split("/").filter(t=>t),n=r.slice(0,-1),i=r.slice(-1)[0],o=this.getTree(t);return n.reduce((t,e)=>t.then(t=>{const r=L()(t.tree,{path:e}).sha;return this.getTree(r)}),o).then(t=>L()(t.tree,{path:i}))}toBase64(t){return Promise.resolve(G.Base64.encode(t))}uploadBlob(t){return U()(t,"toBase64",B()(this.toBase64,t.raw)).then(e=>this.request(`${this.repoURL}/git/blobs`,{method:"POST",body:JSON.stringify({content:e,encoding:"base64"})}).then(e=>(t.sha=e.sha,t.uploaded=!0,t)))}updateTree(t,e,r){return this.getTree(t).then(n=>{let i,o,s;const u=[],a={};for(let t=0,e=n.tree.length;t<e;t++)i=n.tree[t],(s=r[i.path])&&(a[i.path]=!0,s.file?u.push({path:i.path,mode:i.mode,type:i.type,sha:s.sha}):u.push(this.updateTree(i.sha,i.path,s)));for(o in r)s=r[o],a[o]||u.push(s.file?{path:o,mode:"100644",type:"blob",sha:s.sha}:this.updateTree(null,o,s));return Promise.all(u).then(e=>this.createTree(t,e)).then(r=>({path:e,mode:"040000",type:"tree",sha:r.sha,parentSha:t}))})}createTree(t,e){return this.request(`${this.repoURL}/git/trees`,{method:"POST",body:JSON.stringify({base_tree:t,tree:e})})}normalizeCommit(t){return t.commit?X({},t.commit,{sha:t.sha}):t}commit(t,e){const r=e.parentSha?[e.parentSha]:[];return this.createCommit(t,e.sha,r)}createCommit(t,e,r,n,i){return this.request(`${this.repoURL}/git/commits`,{method:"POST",body:JSON.stringify({message:t,tree:e,parents:r,author:n,committer:i})})}}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){rt(t,e,r[e])})}return t}function rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const nt=10,it=["deploy"];function ot(t,e){const r=e.getIn(["backend","preview_context"]);return t.find(({context:t})=>(function(t,e){return e?t===e:it.some(e=>t.includes(e))})(t,r))}class st{constructor(t,e={}){if(rt(this,"fetchFiles",t=>{const e=s()(nt),r=[];return t.forEach(t=>{r.push(new Promise(r=>e.take(()=>this.api.readFile(t.path,t.sha).then(n=>{r({file:t,data:n}),e.leave()}).catch((n=!0)=>{e.leave(),console.error(`failed to load file from GitHub: ${t.path}`),r({error:n})}))))}),Promise.all(r).then(t=>t.filter(t=>!t.error))}),this.config=t,this.options=et({proxied:!1,API:null},e),!this.options.proxied&&null==t.getIn(["backend","repo"]))throw new Error('The GitHub backend needs a "repo" in the backend configuration.');this.api=this.options.API||null,this.repo=t.getIn(["backend","repo"],""),this.branch=t.getIn(["backend","branch"],"master").trim(),this.api_root=t.getIn(["backend","api_root"],"https://api.github.com"),this.token="",this.squash_merges=t.getIn(["backend","squash_merges"])}authComponent(){return k}restoreUser(t){return this.authenticate(t)}async authenticate(t){this.token=t.token,this.api=new tt({token:this.token,branch:this.branch,repo:this.repo,api_root:this.api_root,squash_merges:this.squash_merges,initialWorkflowStatus:this.options.initialWorkflowStatus});const e=await this.api.user();if(!await this.api.hasWriteAccess().catch(t=>{throw t.message=m`
        Repo "${this.repo}" not found.

        Please ensure the repo information is spelled correctly.

        If the repo is private, make sure you're logged into a GitHub account with access.

        If your repo is under an organization, ensure the organization has granted access to Netlify
        CMS.
      `,t}))throw new Error("Your GitHub user account does not have access to this repo.");return et({},e,{token:t.token})}logout(){this.token=null}getToken(){return Promise.resolve(this.token)}entriesByFolder(t,e){return this.api.listFiles(t.get("folder")).then(t=>t.filter(t=>t.name.endsWith("."+e))).then(this.fetchFiles)}entriesByFiles(t){const e=t.get("files").map(t=>({path:t.get("file"),label:t.get("label")}));return this.fetchFiles(e)}getEntry(t,e,r){return this.api.readFile(r).then(t=>({file:{path:r},data:t}))}getMedia(){return this.api.listFiles(this.config.get("media_folder")).then(t=>t.map(({sha:t,name:e,size:r,download_url:n,path:i})=>{const o=new URL(n);return o.pathname.match(/.svg$/)&&(o.search+=(""===o.search.slice(1)?"?":"&")+"sanitize=true"),{id:t,name:e,size:r,url:o.href,urlIsPublicPath:!0,path:i}}))}persistEntry(t,e=[],r={}){return this.api.persistFiles(t,e,r)}async persistMedia(t,e={}){try{await this.api.persistFiles(null,[t],e);const r=t.sha,n=t.value,o=t.path,s=t.fileObj,u=URL.createObjectURL(s);return{id:r,name:n,size:s.size,url:u,path:i()(o,"/")}}catch(t){throw console.error(t),t}}deleteFile(t,e,r){return this.api.deleteFile(t,e,r)}unpublishedEntries(){return this.api.listUnpublishedBranches().then(t=>{const e=s()(nt),r=[];return t.map(t=>{r.push(new Promise(r=>{const n=t.ref.split("refs/heads/cms/").pop();return e.take(()=>this.api.readUnpublishedBranchFile(n).then(t=>{if(null===t||void 0===t)r(null),e.leave();else{const i=t.metaData.objects.entry.path;r({slug:n,file:{path:i},data:t.fileData,metaData:t.metaData,isModification:t.isModification}),e.leave()}}).catch(()=>{e.leave(),r(null)}))}))}),Promise.all(r)}).catch(t=>"Not Found"===t.message?Promise.resolve([]):t)}unpublishedEntry(t,e){return this.api.readUnpublishedBranchFile(e).then(t=>t?{slug:e,file:{path:t.metaData.objects.entry.path},data:t.fileData,metaData:t.metaData,isModification:t.isModification}:null)}async getDeployPreview(t,e){const r=await this.api.retrieveMetadata(e);if(!r)return null;const n=ot(await this.api.getStatuses(r.pr.head),this.config);if(n){return{url:n.target_url,status:n.state}}}updateUnpublishedEntryStatus(t,e,r){return this.api.updateUnpublishedEntryStatus(t,e,r)}deleteUnpublishedEntry(t,e){return this.api.deleteUnpublishedEntry(t,e)}publishUnpublishedEntry(t,e){return this.api.publishUnpublishedEntry(t,e)}}r.d(e,"GitHubBackend",function(){return st}),r.d(e,"API",function(){return tt}),r.d(e,"AuthenticationPage",function(){return k})}])});
//# sourceMappingURL=netlify-cms-backend-github.js.map