{"version":3,"file":"slate-dev-environment.js","sources":["../src/index.js"],"sourcesContent":["import isBrowser from 'is-in-browser'\n\n/**\n * Browser matching rules.\n *\n * @type {Array}\n */\n\nconst BROWSER_RULES = [\n  ['edge', /Edge\\/([0-9\\._]+)/],\n  ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n  ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n  ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n  ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/],\n  ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+)\\).*Gecko$/],\n  ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n  ['ie', /MSIE\\s(7\\.0)/],\n  ['android', /Android\\s([0-9\\.]+)/],\n  ['safari', /Version\\/([0-9\\._]+).*Safari/],\n]\n\nlet browser\n\nif (isBrowser) {\n  for (const [name, regexp] of BROWSER_RULES) {\n    if (regexp.test(window.navigator.userAgent)) {\n      browser = name\n      break\n    }\n  }\n}\n\n/**\n * Operating system matching rules.\n *\n * @type {Array}\n */\n\nconst OS_RULES = [\n  ['ios', /os ([\\.\\_\\d]+) like mac os/i], // must be before the macos rule\n  ['macos', /mac os x/i],\n  ['android', /android/i],\n  ['firefoxos', /mozilla\\/[a-z\\.\\_\\d]+ \\((?:mobile)|(?:tablet)/i],\n  ['windows', /windows\\s*(?:nt)?\\s*([\\.\\_\\d]+)/i],\n]\n\nlet os\n\nif (isBrowser) {\n  for (const [name, regexp] of OS_RULES) {\n    if (regexp.test(window.navigator.userAgent)) {\n      os = name\n      break\n    }\n  }\n}\n\n/**\n * Feature matching rules.\n *\n * @type {Array}\n */\n\nconst FEATURE_RULES = [\n  [\n    'inputeventslevel1',\n    window => {\n      const event = window.InputEvent ? new InputEvent('input') : {}\n      const support = 'inputType' in event\n      return support\n    },\n  ],\n  [\n    'inputeventslevel2',\n    window => {\n      const element = window.document.createElement('div')\n      element.contentEditable = true\n      const support = 'onbeforeinput' in element\n      return support\n    },\n  ],\n]\n\nconst features = []\n\nif (isBrowser) {\n  for (const [name, test] of FEATURE_RULES) {\n    if (test(window)) {\n      features.push(name)\n    }\n  }\n}\n\n/**\n * Export.\n *\n * @type {Boolean}\n */\n\nexport const IS_CHROME = browser === 'chrome'\nexport const IS_OPERA = browser === 'opera'\nexport const IS_FIREFOX = browser === 'firefox'\nexport const IS_SAFARI = browser === 'safari'\nexport const IS_IE = browser === 'ie'\nexport const IS_EDGE = browser === 'edge'\n\nexport const IS_ANDROID = os === 'android'\nexport const IS_IOS = os === 'ios'\nexport const IS_MAC = os === 'macos'\nexport const IS_WINDOWS = os === 'windows'\n\nexport const HAS_INPUT_EVENTS_LEVEL_1 = features.includes('inputeventslevel1')\nexport const HAS_INPUT_EVENTS_LEVEL_2 = features.includes('inputeventslevel2')\n\n// COMPAT: this is needed for an older version of `slate-react` support.\nexport const SUPPORTED_EVENTS = { beforeinput: HAS_INPUT_EVENTS_LEVEL_2 }\n"],"names":["BROWSER_RULES","browser","isBrowser","name","regexp","test","window","navigator","userAgent","OS_RULES","os","FEATURE_RULES","event","InputEvent","support","element","document","createElement","contentEditable","features","push","IS_CHROME","IS_OPERA","IS_FIREFOX","IS_SAFARI","IS_IE","IS_EDGE","IS_ANDROID","IS_IOS","IS_MAC","IS_WINDOWS","HAS_INPUT_EVENTS_LEVEL_1","includes","HAS_INPUT_EVENTS_LEVEL_2","SUPPORTED_EVENTS","beforeinput"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;AAMA,IAAMA,gBAAgB,CACpB,CAAC,MAAD,EAAS,mBAAT,CADoB,EAEpB,CAAC,QAAD,EAAW,kDAAX,CAFoB,EAGpB,CAAC,SAAD,EAAY,6BAAZ,CAHoB,EAIpB,CAAC,OAAD,EAAU,2BAAV,CAJoB,EAKpB,CAAC,OAAD,EAAU,0BAAV,CALoB,EAMpB,CAAC,IAAD,EAAO,yCAAP,CANoB,EAOpB,CAAC,IAAD,EAAO,qCAAP,CAPoB,EAQpB,CAAC,IAAD,EAAO,cAAP,CARoB,EASpB,CAAC,SAAD,EAAY,qBAAZ,CAToB,EAUpB,CAAC,QAAD,EAAW,8BAAX,CAVoB,CAAtB;;AAaA,IAAIC,gBAAJ;;AAEA,IAAIC,SAAJ,EAAe;;;;;;yBACgBF,aAA7B,8HAA4C;;;;;UAAhCG,IAAgC;UAA1BC,MAA0B;;UACtCA,OAAOC,IAAP,CAAYC,OAAOC,SAAP,CAAiBC,SAA7B,CAAJ,EAA6C;kBACjCL,IAAV;;;;;;;;;;;;;;;;;;;;;;;;;;AAYN,IAAMM,WAAW,CACf,CAAC,KAAD,EAAQ,6BAAR,CADe;AAEf,CAAC,OAAD,EAAU,WAAV,CAFe,EAGf,CAAC,SAAD,EAAY,UAAZ,CAHe,EAIf,CAAC,WAAD,EAAc,gDAAd,CAJe,EAKf,CAAC,SAAD,EAAY,kCAAZ,CALe,CAAjB;;AAQA,IAAIC,WAAJ;;AAEA,IAAIR,SAAJ,EAAe;;;;;;0BACgBO,QAA7B,mIAAuC;;;;;UAA3BN,KAA2B;UAArBC,OAAqB;;UACjCA,QAAOC,IAAP,CAAYC,OAAOC,SAAP,CAAiBC,SAA7B,CAAJ,EAA6C;aACtCL,KAAL;;;;;;;;;;;;;;;;;;;;;;;;;;AAYN,IAAMQ,gBAAgB,CACpB,CACE,mBADF,EAEE,kBAAU;MACFC,QAAQN,OAAOO,UAAP,GAAoB,IAAIA,UAAJ,CAAe,OAAf,CAApB,GAA8C,EAA5D;MACMC,UAAU,eAAeF,KAA/B;SACOE,OAAP;CALJ,CADoB,EASpB,CACE,mBADF,EAEE,kBAAU;MACFC,UAAUT,OAAOU,QAAP,CAAgBC,aAAhB,CAA8B,KAA9B,CAAhB;UACQC,eAAR,GAA0B,IAA1B;MACMJ,UAAU,mBAAmBC,OAAnC;SACOD,OAAP;CANJ,CAToB,CAAtB;;AAoBA,IAAMK,WAAW,EAAjB;;AAEA,IAAIjB,SAAJ,EAAe;;;;;;0BACcS,aAA3B,mIAA0C;;;;;UAA9BR,MAA8B;UAAxBE,IAAwB;;UACpCA,KAAKC,MAAL,CAAJ,EAAkB;iBACPc,IAAT,CAAcjB,MAAd;;;;;;;;;;;;;;;;;;;;;;;;;AAWN,AAAO,IAAMkB,YAAYpB,YAAY,QAA9B;AACP,AAAO,IAAMqB,WAAWrB,YAAY,OAA7B;AACP,AAAO,IAAMsB,aAAatB,YAAY,SAA/B;AACP,AAAO,IAAMuB,YAAYvB,YAAY,QAA9B;AACP,AAAO,IAAMwB,QAAQxB,YAAY,IAA1B;AACP,AAAO,IAAMyB,UAAUzB,YAAY,MAA5B;;AAEP,AAAO,IAAM0B,aAAajB,OAAO,SAA1B;AACP,AAAO,IAAMkB,SAASlB,OAAO,KAAtB;AACP,AAAO,IAAMmB,SAASnB,OAAO,OAAtB;AACP,AAAO,IAAMoB,aAAapB,OAAO,SAA1B;;AAEP,AAAO,IAAMqB,2BAA2BZ,SAASa,QAAT,CAAkB,mBAAlB,CAAjC;AACP,AAAO,IAAMC,2BAA2Bd,SAASa,QAAT,CAAkB,mBAAlB,CAAjC;;;AAGP,AAAO,IAAME,mBAAmB,EAAEC,aAAaF,wBAAf,EAAzB;;;;;;;;;;;;;;;;"}